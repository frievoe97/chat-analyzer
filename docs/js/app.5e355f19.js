(function(){"use strict";var t={8298:function(t,s,e){var a=e(8935),i=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{attrs:{id:"app"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:this.showSelectedNames,expression:"this.showSelectedNames"}],staticClass:"blurred-background"}),e("div",{directives:[{name:"show",rawName:"v-show",value:this.showSelectedNames,expression:"this.showSelectedNames"}],staticClass:"select-names"},[e("h1",{staticClass:"select-names-header"},[t._v("Select the Names")]),e("div",{staticClass:"select-names-general-buttons"},[e("button",{staticClass:"select-names-general-button",on:{click:function(s){return t.selectAllNames()}}},[t._v(" Select All ")]),e("button",{staticClass:"select-names-general-button",on:{click:function(s){return t.unselectAllNames()}}},[t._v(" Unselect All ")]),e("button",{staticClass:"select-names-general-button",on:{click:function(s){return t.unselectUnsavedContacts()}}},[t._v(" Unselect not saved contacts ")]),e("button",{staticClass:"select-names-general-button",on:{click:function(s){return t.selectTopTen()}}},[t._v(" Select Top 10 ")])]),e("div",{staticClass:"select-names-list"},t._l(t.selectedNames,(function(s,a){return e("div",{key:a,staticClass:"select-names-line"},[e("input",{staticClass:"select-name-button",attrs:{type:"checkbox"},domProps:{checked:s.active},on:{click:function(s){return t.selectName(a)}}}),e("div",{staticClass:"select-names-name"},[t._v(" "+t._s(s.name)+" (Nachrichten: "+t._s(s.numberOfMessages)+") ")])])})),0),e("div",{staticClass:"select-names-bottom-buttons"},[e("button",{staticClass:"select-names-bottom-button",on:{click:function(s){return t.finishSelectNames()}}},[t._v(" Weiter ")])])]),e("div",{staticClass:"reselect-names"},[e("div",{staticClass:"reselect-names-top"},[e("button",{on:{click:function(s){t.showReselectNames=!t.showReselectNames}}},[t._v(" "+t._s(t.showReselectNames)+" ")]),e("v-icon",{attrs:{name:"arrow-down"}})],1),e("div",{directives:[{name:"show",rawName:"v-show",value:t.showReselectNames,expression:"showReselectNames"}],staticClass:"reselect-names-content"},t._l(t.selectedNames,(function(s,a){return e("div",{key:a,staticClass:"reselect-names-line"},[e("input",{staticClass:"reselect-name-button",attrs:{type:"checkbox"},domProps:{checked:s.active},on:{click:function(s){return t.selectName(a)}}}),e("div",{staticClass:"reselect-names-name"},[t._v(" "+t._s(s.name)+" (Nachrichten: "+t._s(s.numberOfMessages)+") ")])])})),0)]),e("div",{attrs:{id:"zone"}},[e("input",{staticClass:"inputfile",attrs:{type:"file",id:"input",name:"myfile"},on:{change:t.showfile}}),e("label",{attrs:{for:"file"}},[t._v("Choose a file")])]),e("div",{staticClass:"grid"},[e("div",{staticClass:"grid-element",attrs:{id:"grid-plot-1"}},[e("Plot1",{attrs:{data:t.allChats,globalWidth:t.widthPlot1,classIDProp:"plot-1"}})],1),e("div",{staticClass:"grid-element",attrs:{id:"grid-plot-2"}},[e("Plot2",{attrs:{data:t.allChats,globalWidth:t.widthPlot2,classIDProp:"plot-2"}})],1),e("div",{staticClass:"grid-element",attrs:{id:"grid-plot-6"}},[e("Plot6",{attrs:{data:t.allChats,globalWidth:t.widthPlot6,classIDProp:"plot-6"}})],1),e("div",[e("TestPlot",{attrs:{data:t.allChats}})],1)])])},n=[],l=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[e("plotly",{staticClass:"plot",attrs:{data:t.dataTest,layout:t.layout,transition:t.transition}}),e("PlotButtons",{attrs:{buttons:t.buttonsNames}})],1)},h=[],o=e(5419),r=e(2060),c=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"button-box",staticStyle:{height:"50px"}},t._l(t.buttons,(function(s){return e("button",{key:s,staticClass:"button"},[t._v(" "+t._s(s)+" ")])})),0)},d=[];a["default"].use(r.Z);var g={components:{},name:"PlotButtons",props:{buttons:Array},data(){return{}},mounted(){},methods:{}},u=g,p=e(1001),m=(0,p.Z)(u,c,d,!1,null,"8395d16a",null),D=m.exports;a["default"].use(r.Z);var f={name:"MsgOverTime",components:{Plotly:o.Plotly,PlotButtons:D},props:{msgData:Array,names:Array},data(){return{buttonsNames:["day","month","year"],dataTest:[{x:[],y:[],title:"abc",type:"bar"}],layout:{title:"Number of messages since start",yaxis:{autorange:!0,automargin:!0,mirror:!0},margin:0,padding:0,showlegend:!0,legend:{orientation:"h"},xaxis:{mirror:!0,rangeselector:{buttons:[{count:1,label:"1 month",step:"month",stepmode:"backward"},{count:6,label:"6 month",step:"month",stepmode:"backward"},{count:12,label:"12 month",step:"month",stepmode:"backward"},{step:"all"}]},rangeslider:{autorange:!0},type:"date"}},transition:{duration:500,easing:"cubic-in-out"},frame:{duration:500}}},mounted(){this.prepareData()},watch:{msgData(){this.prepareData()}},methods:{prepareData:function(){if(0==this.msgData.length)return;this.dataTest=[];for(let i=0;i<this.names.length;i++){const t=this.names[i];let s={x:[],y:[],type:"bar",legend:!0,name:t},e=0,a="",n="";for(let l=0;l<this.msgData.length;l++)this.msgData[i].name==t&&(n=this.msgData[l].date,0==l&&(a=n),a===n?(e++,a=n):(s.x.push(a),s.y.push(e),e=0),a=n);this.dataTest.push(s)}console.log("prepare new Data");let t={x:[],y:[],type:"bar",legend:!0,name:"Gesamt"},s=0,e="",a="";for(let i=0;i<this.msgData.length;i++)a=this.msgData[i].date,0==i&&(e=a),e===a?(s++,e=a):(t.x.push(e),t.y.push(s),s=0),e=a;this.dataTest.push(t),console.log(this.dataTest)}}},x=f,b=(0,p.Z)(x,l,h,!1,null,"02ce13be",null),v=(b.exports,function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"test-plot"},[e("Plotly",{staticClass:"plot",attrs:{data:t.dataTest,layout:t.layout}}),e("PlotButtons",{attrs:{buttons:t.buttonsNames1}}),e("PlotButtons",{attrs:{buttons:t.buttonsNames2}})],1)}),y=[];a["default"].use(r.Z);var w={components:{Plotly:o.Plotly,PlotButtons:D},name:"MsgOverTime2",props:{msgData:Array,names:Array,config:Object},data(){return{showRelatice:!0,buttonsNames1:["hour","minute","second"],buttonsNames2:["absolute","relative"],dataTest:[],layout:{title:"Number of messages per hour",xaxis:{}}}},mounted(){this.prepareData()},watch:{msgData(){this.prepareData()},names(){this.prepareData()}},methods:{prepareData:function(){if(console.log(this.names,this.config),0==this.msgData.length)return;this.dataTest=[];for(let s=0;s<this.names.length;s++){const t=this.names[s];let e={x:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],y:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],name:t};for(let s=0;s<this.msgData.length;s++)if(this.msgData[s].name==t)for(let t=0;t<e.x.length;t++)e.x[t]==this.msgData[s].time.substring(0,2)&&e.y[t]++;if(this.showRelatice)for(let a=0;a<e.y.length;a++)e.y[a]=100/this.config.names[s].totalMsg*e.y[a];this.dataTest.push(e)}let t={x:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],y:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],name:"Gesamt"};for(let s=0;s<this.msgData.length;s++)for(let e=0;e<t.x.length;e++)t.x[e]==this.msgData[s].time.substring(0,2)&&t.y[e]++;if(this.showRelatice)for(let s=0;s<t.y.length;s++)t.y[s]=100/this.config.totalMsg*t.y[s];this.dataTest.push(t)}}},O=w,M=(0,p.Z)(O,v,y,!1,null,"6911141e",null),N=(M.exports,function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"test-plot"},[e("Plotly",{staticClass:"plot",attrs:{data:t.dataTest,layout:t.layout}}),e("PlotButtons",{attrs:{buttons:t.buttonsNames}})],1)}),C=[];a["default"].use(r.Z);var P={components:{Plotly:o.Plotly,PlotButtons:D},name:"MsgOverTime3",props:{msgData:Array,names:Array},data(){return{buttonsNames:["absolute","relative"],dataTest:[],layout:{title:"Ratio of messages sent",xaxis:{}}}},mounted(){this.prepareData()},watch:{msgData(){this.prepareData()}},methods:{prepareData:function(){this.dataTest=[];let t={labels:[],values:[],title:"",type:"pie",legend:!0};for(let s=0;s<this.names.length;s++)t.labels.push(this.names[s]),t.values.push(0);for(let s=0;s<this.msgData.length;s++){const e=this.msgData[s].name;t.values[this.names.indexOf(e)]++}this.dataTest.push(t)}}},k=P,A=(0,p.Z)(k,N,C,!1,null,"3c58144a",null),S=(A.exports,function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"test-plot"},t._l(t.dataTest,(function(s){return e("div",{key:s.name},[e("h1",[t._v(t._s(s.name))]),e("p",[t._v("Number of messages: "+t._s(s.numberMsg))]),e("p",[t._v("Started conversations: "+t._s(s.startedConversation))]),e("p",[t._v("Finished conversations: "+t._s(s.endedConversation))]),e("p",[t._v("Average message length: "+t._s(s.msgLength))])])})),0)}),I=[];a["default"].use(r.Z);var Y={components:{},name:"MsgOverTime4",props:{msgData:Array,names:Array},data(){return{timeBetweenConversations:86400,dataTest:[],layout:{title:"Plot 4",xaxis:{}}}},mounted(){this.prepareData()},watch:{msgData(){this.prepareData()}},methods:{prepareData:function(){this.dataTest=[];let t=[];for(let s=0;s<this.names.length;s++){let e={};e.name=this.names[s],e.startedConversation=0,e.endedConversation=0,t.push(e)}for(let s=0;s<this.msgData.length;s++)s>0?this.msgData[s].timestamp>this.msgData[s-1].timestamp+this.timeBetweenConversations&&(t[this.names.indexOf(this.msgData[s].name)].startedConversation++,t[this.names.indexOf(this.msgData[s-1].name)].endedConversation++):t[this.names.indexOf(this.msgData[s].name)].startedConversation++;for(let s=0;s<this.names.length;s++){const e=this.names[s];let a={};a.name=e,a.numberMsg=0,a.msgLength=0,a.startedConversation=t[s].startedConversation,a.endedConversation=t[s].endedConversation;for(let t=0;t<this.msgData.length;t++)this.msgData[t].name==e&&(a.numberMsg++,a.msgLength+=this.msgData[t].msg.length);a.msgLength=Math.round(a.msgLength/a.numberMsg),this.dataTest.push(a)}}}},T=Y,_=(0,p.Z)(T,S,I,!1,null,"5634b325",null),j=(_.exports,function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{attrs:{id:"my_dataviz"}})}),Z=[],W=e(8101),E={name:"D3LineChart",components:{},props:{data:Object},data(){return{dataObj:[{date:"1-May-12",close:"68.13",open:"34.12"},{date:"30-Apr-12",close:"63.98",open:"45.56"},{date:"27-Apr-12",close:"67.00",open:"67.89"},{date:"26-Apr-12",close:"89.70",open:"78.54"},{date:"25-Apr-12",close:"99.00",open:"89.23"},{date:"24-Apr-12",close:"130.28",open:"99.23"}]}},mounted(){this.prepareData()},watch:{data(){this.prepareData()}},methods:{prepareData:function(){if(console.log(this.data),this.data.allMessages.length){this.dataObj=[];for(let t=0;t<this.data.totalConfig.messagesPerTime.x.length;t++)this.dataObj.push({time:this.data.totalConfig.messagesPerTime.x[t],number:this.data.totalConfig.messagesPerTime.y[t],name:"Gesamt"});for(let t=0;t<this.data.configPerPersoan.length;t++)for(let s=0;s<this.data.configPerPersoan[t].messagesPerTime.x.length;s++)this.dataObj.push({time:this.data.configPerPersoan[t].messagesPerTime.x[t],number:this.data.configPerPersoan[t].messagesPerTime.y[t],name:this.data.names[t]});this.init()}},init:function(){if(this.data.allMessages.length){console.log(this.dataObj);var t={top:20,right:20,bottom:30,left:50},s=960-t.left-t.right,e=500-t.top-t.bottom,a=(W.Z1g("%d-%b-%y"),W.BYU().range([0,s])),i=W.BYU().range([e,0]),n=W.jvg().x((function(t){return a(t.x)})).y((function(t){return i(t.number)})),l=W.Ys("#my_dataviz").append("svg").attr("width",s+t.left+t.right).attr("height",e+t.top+t.bottom).append("g").attr("transform","translate("+t.left+","+t.top+")");this.dataObj.forEach((function(t){t.x=+t.x,t.number=+t.number})),a.domain([0,23]),i.domain([0,W.Fp7(this.dataObj,(function(t){return Math.max(0,t.number)}))]),l.append("path").data([this.dataObj]).attr("class","line").style("stroke","blue").attr("d",n),l.append("g").attr("transform","translate(0,"+e+")").call(W.LLu(a)),l.append("g").call(W.y4O(i))}}}},$=E,L=(0,p.Z)($,j,Z,!1,null,null,null),z=(L.exports,function(){var t=this,s=t.$createElement;t._self._c;return t._m(0)}),q=[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[e("div",{attrs:{id:"my_dataviz"}})])}],B={name:"D3LineChartv2",components:{},props:{data:Object},data(){return{plotData:[],starteDate:"",endDate:"",index:1,parseTime:W.Z1g("%Y-%m-%d"),allCurveObjects:[],curve:{},svg:{},xScale:{},yScale:{},width:0,height:0,margin:{}}},mounted(){this.prepareData2()},watch:{data(){this.prepareData2()}},methods:{changeIndex:function(){1==this.index?this.index=2:2==this.index?this.index=3:this.index=1,this.updateCurve()},updateCurve(){this.margin;const t=this.margin,s=this.margin;let e=this.calculateMaxY(this.plotData[2][this.index]),a=this.parseTime;2==this.index?a=W.Z1g("%Y-%m"):1==this.index?a=W.Z1g("%Y-%m-%d"):3==this.index&&(a=W.Z1g("%Y")),2==this.index?(this.starteDate=this.plotData[2][2][0][0].substring(0,7),this.endDate=this.plotData[2][2][this.plotData[2][2].length-1][0].substring(0,7)):1==this.index?(this.starteDate=this.plotData[2][1][0][0].substring(0,10),this.endDate=this.plotData[2][1][this.plotData[2][1].length-1][0].substring(0,10)):3==this.index&&(this.starteDate=this.plotData[2][3][0][0].substring(0,4),this.endDate=this.plotData[2][3][this.plotData[2][3].length-1][0].substring(0,4)),console.log("Index: ",this.index," Startdatum: ",this.starteDate," Enddatum: ",this.endDate),this.xScale.domain([this.parseTime(this.starteDate),this.parseTime(this.endDate)]).range([0,t]),this.yScale.domain([0,e]).range([s,0]);const i=this.xScale,n=this.yScale;this.curve.datum(this.plotData[2][this.index]).transition().duration(1e3).attr("d",W.jvg().curve(W.qpX).x((function(t){return i(a(t[0]))})).y((function(t){return n(t[1])})))},prepareData2:function(){if(!this.data.allMessages.length)return;this.plotData=[];const t=W.Z1g("%Y-%m-%d");2==this.index?this.parseTime=W.Z1g("%Y-%m"):1==this.index?this.parseTime=W.Z1g("%Y-%m-%d"):3==this.index&&(this.parseTime=W.Z1g("%Y"));for(let s=0;s<this.data.names.length;s++)this.plotData.push([[],[],[],[]]);this.plotData.push([[],[],[],[]]);for(let s=0;s<this.data.allMessages.length;s++){const t=this.data.allMessages[s].name,e=this.data.names.indexOf(t);this.plotData[e][0].push([this.data.allMessages[s].date]),this.plotData[this.data.names.length][0].push([this.data.allMessages[s].date])}for(let s=0;s<this.plotData.length;s++){let t=[],e="";for(let a=0;a<this.plotData[s][0].length;a++)if(this.plotData[s][0][a][0]!=e)e=this.plotData[s][0][a][0],t.push([e,1]);else{e=this.plotData[s][0][a][0];const i=t[t.length-1][1];t[t.length-1]=[e,i+1]}this.plotData[s][0]=t}for(let s=0;s<this.plotData.length;s++){const e=this.plotData[s][0][0][0],a=this.plotData[s][0][this.plotData[s][0].length-1][0],i=[];for(let t=0;t<this.plotData[s][0].length;t++)i.push(this.plotData[s][0][t][0]);for(let n=new Date(t(e));n<=new Date(t(a));n.setDate(n.getDate()+1)){const t=new Date(n).toISOString().split("T")[0];if(i.includes(t)){const e=i.indexOf(t);this.plotData[s][1].push([this.plotData[s][0][e][0],this.plotData[s][0][e][1]])}else this.plotData[s][1].push([t,0])}}for(let s=0;s<this.plotData.length;s++){const e=this.plotData[s][0][0][0],a=this.plotData[s][0][this.plotData[s][0].length-1][0],i=[];for(let n=new Date(t(e));n<=new Date(t(a));n.setDate(n.getDate()+1)){const t=new Date(n).toISOString().substring(0,7);i.includes(t)||(i.push(t),this.plotData[s][2].push([t,0]))}for(let t=0;t<this.plotData[s][0].length;t+=12){const e=this.plotData[s][0][t][0].substring(0,7),a=this.plotData[s][0][t][1],n=i.indexOf(e);this.plotData[s][2][n][1]=this.plotData[s][2][n][1]+a}}for(let s=0;s<this.plotData.length;s++){const e=this.plotData[s][0][0][0],a=this.plotData[s][0][this.plotData[s][0].length-1][0],i=[];for(let n=new Date(t(e));n<=new Date(t(a));n.setDate(n.getDate()+1)){const t=new Date(n).toISOString().substring(0,4);i.includes(t)||(i.push(t),this.plotData[s][3].push([t,0]))}for(let t=0;t<this.plotData[s][0].length;t+=1){const e=this.plotData[s][0][t][0].substring(0,4),a=this.plotData[s][0][t][1],n=i.indexOf(e);this.plotData[s][3][n][1]=this.plotData[s][3][n][1]+a}}this.createPlot()},createPlot:function(){const t=this.parseTime;let s=this.calculateMaxY(this.plotData[2][this.index]);2==this.index?(this.starteDate=this.plotData[2][2][0][0].substring(0,7),this.endDate=this.plotData[2][2][this.plotData[2][2].length-1][0].substring(0,7)):1==this.index?(this.starteDate=this.plotData[2][1][0][0].substring(0,10),this.endDate=this.plotData[2][1][this.plotData[2][1].length-1][0].substring(0,10)):3==this.index&&(this.starteDate=this.plotData[2][3][0][0].substring(0,4),this.endDate=this.plotData[2][3][this.plotData[2][3].length-1][0].substring(0,4));const e={top:50,right:50,bottom:50,left:50},a=1060-e.left-e.right,i=400-e.top-e.bottom;this.width=a,this.height=i,this.margin=e,this.svg=W.Ys("#my_dataviz").append("svg").attr("width",a+e.left+e.right).attr("margin",40).attr("height",i+e.top+e.bottom).append("g").attr("transform",`translate(${e.left},${e.top})`);const n=W.Xf().domain([this.parseTime(this.starteDate),this.parseTime(this.endDate)]).range([0,a]),l=W.BYU().domain([0,s]).range([i,0]);this.xScale=n,this.yScale=l;var h=this.svg.append("g").attr("transform","translate(0,0)");h.append("g").attr("transform","translate(0,"+i+")").call(W.LLu(n)),h.append("g").call(W.y4O(l)),this.curve=this.svg.append("g").append("path").attr("class","mypath").datum(this.plotData[2][this.index]).attr("d",W.jvg().curve(W.qpX).x((function(s){return n(t(s[0]))})).y((function(t){return l(t[1])}))).style("fill","none").style("stroke","#CC0000").style("stroke-width","2")},calculateMaxY:function(t){let s=0;for(let e=0;e<t.length;e++)t[e][1]>s&&(s=t[e][1]);if(s<10)s=10;else if(s<100){let t=s%10;s=s-t+10}else if(s<500){let t=s%100;s=s-t+100}else if(s<1e3){let t=s%200;s=s-t+200}else if(s<1e4){let t=s%500;s=s-t+500}return s}}},X=B,H=(0,p.Z)(X,z,q,!1,null,null,null),U=(H.exports,function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{attrs:{id:t.classID+"-container"}},[e("div",{attrs:{id:t.classID+"-title"}},[t._v(" Number Of Messages per "+t._s(this.indexName[this.index-1])+" ")]),e("div",{attrs:{id:t.classID}}),e("div",{staticClass:"buttons"},[e("div",{staticClass:"single-button",on:{click:function(s){return t.changeIndex2(3)}}},[t._v("Year")]),e("div",{staticClass:"single-button",on:{click:function(s){return t.changeIndex2(2)}}},[t._v("Month")]),e("div",{staticClass:"single-button",on:{click:function(s){return t.changeIndex2(1)}}},[t._v("Days")]),e("input",{attrs:{type:"date",id:"start",name:"trip-start",min:t.starteDate,max:t.endDate},domProps:{value:t.starteDate}}),e("input",{attrs:{type:"date",id:"end",name:"trip-end",min:t.starteDate,max:t.endDate},domProps:{value:t.endDate}})])])}),R=[],G=e(7427),V={name:"Plot-1",components:{},props:{data:Object,globalWidth:Number,classIDProp:String},data(){return{plotData:[],starteDate:"",endDate:"",index:3,parseTime:W.Z1g("%Y-%m-%d"),allCurveObjects:[],curve:{},svg:{},xScale:{},yScale:{},x:{},y:{},xAxis:{},yAxis:{},focus:{},margin:{top:20,right:30,bottom:30,left:50},width:776,height:350,indexName:["Day","Month","Year"],classNames:[],classNamesDot:[],lineObjects:[],colors:["red","green","blue","black","brown","coral","darkblue","orange","darkorange","darkviolet","indigo","lightsalmon","midnightblue","red","green","blue","black","brown","coral","darkblue","orange","darkorange","darkviolet","indigo","lightsalmon","midnightblue","red","green","blue","black","brown","coral","darkblue","orange","darkorange","darkviolet","indigo","lightsalmon","midnightblue"],size:!0,classID:"plot-1"}},mounted(){this.classNames=this.classNames.map((t=>this.classIDProp+"-"+t)),this.classID=this.classIDProp,window.addEventListener("resize",this.myEventHandler),this.getStartWidth(),this.createClassArrays(),this.prepareData2()},watch:{data(){this.createClassArrays(),this.prepareData2()},globalWidth:function(){this.switchSize()}},methods:{createClassArrays:function(){this.classNames=[],this.classNamesDot=[];for(let t=0;t<=this.data.names.length;t++){const s=(t+1).toString();this.classNames.push("line-"+s),this.classNamesDot.push(".line"+s)}},getStartWidth:async function(){this.width=document.querySelector("#grid-"+this.classID).clientWidth-(this.margin.left+this.margin.right)},myEventHandler:function(){const t=document.querySelector("#grid-"+this.classID).clientWidth-(this.margin.left+this.margin.right);this.width!=t&&(this.width=t)},changeIndex2:function(t){this.index=t,this.updateCurve()},switchSize:function(){this.globalWidth>0&&(this.width=this.globalWidth+100),this.changeSize()},changeSize:function(){W.Ys(".plot1svg").attr("width",this.width+this.margin.left+this.margin.right)},prepareData2:function(){if(!this.data.allMessages.length)return;this.plotData=[];const t=W.Z1g("%Y-%m-%d");2==this.index?this.parseTime=W.Z1g("%Y-%m"):1==this.index?this.parseTime=W.Z1g("%Y-%m-%d"):3==this.index&&(this.parseTime=W.Z1g("%Y"));for(let s=0;s<this.data.names.length;s++)this.plotData.push([[],[],[],[],[]]);this.plotData.push([[],[],[],[],[]]);for(let s=0;s<this.data.allMessages.length;s++){const t=this.data.allMessages[s].name,e=this.data.names.indexOf(t);this.plotData[e][0].push([this.data.allMessages[s].date]),this.plotData[this.data.names.length][0].push([this.data.allMessages[s].date])}for(let s=0;s<this.plotData.length;s++){let t=[],e="";for(let a=0;a<this.plotData[s][0].length;a++)if(this.plotData[s][0][a][0]!=e)e=this.plotData[s][0][a][0],t.push([e,1]);else{e=this.plotData[s][0][a][0];const i=t[t.length-1][1];t[t.length-1]=[e,i+1]}this.plotData[s][0]=t}for(let s=0;s<this.plotData.length;s++){const e=this.plotData[s][0][0][0],a=this.plotData[s][0][this.plotData[s][0].length-1][0],i=[];for(let t=0;t<this.plotData[s][0].length;t++)i.push(this.plotData[s][0][t][0]);for(let n=new Date(t(e));n<=new Date(t(a));n.setDate(n.getDate()+1)){const t=new Date(n).toISOString().split("T")[0];if(i.includes(t)){const e=i.indexOf(t);this.plotData[s][1].push([this.plotData[s][0][e][0],this.plotData[s][0][e][1]])}else this.plotData[s][1].push([t,0])}}for(let s=0;s<this.plotData.length;s++){const e=this.plotData[s][0][0][0],a=this.plotData[s][0][this.plotData[s][0].length-1][0],i=[];let n=[],l=[];for(let h=new Date(t(e));h<=new Date(t(a));h.setDate(h.getDate()+1)){const t=new Date(h).toISOString().substring(0,7);i.includes(t)||(i.push(t),this.plotData[s][2].push([t,0]),n.push(t),l.push(0));const e=n.indexOf(t);l[e]++}for(let t=0;t<this.plotData[s][0].length;t+=1){const e=this.plotData[s][0][t][0].substring(0,7),a=this.plotData[s][0][t][1],n=i.indexOf(e);this.plotData[s][2][n][1]=this.plotData[s][2][n][1]+a}for(let t=0;t<this.plotData[s][2].length;t+=1){const e=this.plotData[s][2][t][0],a=this.plotData[s][2][t][1],i=n.indexOf(e),h=l[i];0!=a&&(this.plotData[s][2][t][1]=a/h)}}for(let s=0;s<this.plotData.length;s++){const e=this.plotData[s][0][0][0],a=this.plotData[s][0][this.plotData[s][0].length-1][0],i=[];let n=[],l=[];for(let h=new Date(t(e));h<=new Date(t(a));h.setDate(h.getDate()+1)){const t=new Date(h).toISOString().substring(0,4);i.includes(t)||(i.push(t),this.plotData[s][3].push([t,0]),n.push(t),l.push(0));const e=n.indexOf(t);l[e]++}for(let t=0;t<this.plotData[s][0].length;t+=1){const e=this.plotData[s][0][t][0].substring(0,4),a=this.plotData[s][0][t][1],n=i.indexOf(e);this.plotData[s][3][n][1]=this.plotData[s][3][n][1]+a}for(let t=0;t<this.plotData[s][3].length;t+=1){const e=this.plotData[s][3][t][0],a=this.plotData[s][3][t][1],i=n.indexOf(e),h=l[i];0!=a&&(this.plotData[s][3][t][1]=a/h)}}for(let s=0;s<this.plotData.length;s++)for(let t=0;t<this.plotData[s][3].length;t++)this.plotData[s][4].push([this.plotData[s][3][t][0],this.plotData[s][3][t][1]*(2.5*Math.random()+.5)]);console.log(this.plotData),this.createPlot()},createPlot:function(){2==this.index?(this.starteDate=this.plotData[2][2][0][0].substring(0,7),this.endDate=this.plotData[2][2][this.plotData[2][2].length-1][0].substring(0,7)):1==this.index?(this.starteDate=this.plotData[2][1][0][0].substring(0,10),this.endDate=this.plotData[2][1][this.plotData[2][1].length-1][0].substring(0,10)):3==this.index&&(this.starteDate=this.plotData[2][3][0][0].substring(0,4),this.endDate=this.plotData[2][3][this.plotData[2][3].length-1][0].substring(0,4)),W.Ys("#"+this.classID+"-svg").remove();const t=W.Ys("#"+this.classID).append("svg").attr("id",this.classID+"-svg").attr("width",this.width+this.margin.left+this.margin.right).attr("height",this.height+this.margin.top+this.margin.bottom).append("g").attr("transform",`translate(${this.margin.left},${this.margin.top})`),s=W.Xf().range([0,this.width]),e=W.LLu().scale(s);t.append("g").attr("transform",`translate(0, ${this.height})`).attr("id",this.classID+"-x-axis");const a=W.BYU().range([this.height,0]),i=W.y4O().scale(a);t.append("g").attr("id",this.classID+"-y-axis"),t.append("text").attr("id",this.classID+"-y-label").attr("text-anchor","end").attr("y","-35px").attr("transform","rotate(-90)").text("average messages per "+this.indexName[this.index-1]),this.x=s,this.y=a,this.xAxis=e,this.yAxis=i,this.svg=t,this.focus=focus,this.setInitalLine()},setInitalLine(){let t=0;for(let n=0;n<=this.data.names.length;n++)t=this.calculateMaxY(this.plotData[n][this.index])>t?this.calculateMaxY(this.plotData[n][this.index]):t;let s=this.parseTime;2==this.index?s=W.Z1g("%Y-%m"):1==this.index?s=W.Z1g("%Y-%m-%d"):3==this.index&&(s=W.Z1g("%Y")),2==this.index?(this.starteDate=this.plotData[2][2][0][0].substring(0,7),this.endDate=this.plotData[2][2][this.plotData[2][2].length-1][0].substring(0,7)):1==this.index?(this.starteDate=this.plotData[2][1][0][0].substring(0,10),this.endDate=this.plotData[2][1][this.plotData[2][1].length-1][0].substring(0,10)):3==this.index&&(this.starteDate=this.plotData[2][3][0][0].substring(0,4),this.endDate=this.plotData[2][3][this.plotData[2][3].length-1][0].substring(0,4)),this.x.domain([s(this.starteDate),s(this.endDate)]),this.svg.selectAll("#"+this.classID+"-x-axis").call(this.xAxis),this.y.domain([0,t]).nice(),this.svg.select("#"+this.classID+"-y-axis").call(this.yAxis),this.svg.select("#"+this.classID+"-y-label").text("Average Messages Per "+this.indexName[this.index-1]);const e=this.x,a=(this.y,this.height),i=W.jvg().curve(W.qpX).x((function(t){return e(s(t[0]))})).y((function(t){return a}));this.lineObjects=[];for(let n=0;n<this.classNames.length;n++)this.lineObjects.push(this.svg.selectAll("."+this.classNames[n]).data([this.plotData[n][this.index]],(function(t){return s(t[0])})));for(let n=0;n<this.lineObjects.length;n++)this.lineObjects[n].join("path").attr("class",this.classNames[n]).merge(this.lineObjects[n]).attr("d",(function(t){return i(t)})).style("fill","none").style("stroke",this.colors[n]).style("stroke-width","2");this.updateCurve()},updateCurve(){let t=0;for(let l=0;l<=this.data.names.length;l++)t=this.calculateMaxY(this.plotData[l][this.index])>t?this.calculateMaxY(this.plotData[l][this.index]):t;let s=this.parseTime;2==this.index?s=W.Z1g("%Y-%m"):1==this.index?s=W.Z1g("%Y-%m-%d"):3==this.index&&(s=W.Z1g("%Y")),2==this.index?(this.starteDate=this.plotData[2][2][0][0].substring(0,7),this.endDate=this.plotData[2][2][this.plotData[2][2].length-1][0].substring(0,7)):1==this.index?(this.starteDate=this.plotData[2][1][0][0].substring(0,10),this.endDate=this.plotData[2][1][this.plotData[2][1].length-1][0].substring(0,10)):3==this.index&&(this.starteDate=this.plotData[2][3][0][0].substring(0,4),this.endDate=this.plotData[2][3][this.plotData[2][3].length-1][0].substring(0,4)),this.x.domain([s(this.starteDate),s(this.endDate)]),this.svg.selectAll("#"+this.classID+"-x-axis").transition().duration(1e3).call(this.xAxis),this.y.domain([0,t]).nice(),this.svg.select("#"+this.classID+"-y-axis").transition().duration(1e3).call(this.yAxis),this.svg.select("#"+this.classID+"-y-label").transition().duration(1e3).text("Average Messages Per Day");const e=this.x,a=this.y,i=W.jvg().curve(W.qpX).x((function(t){return e(s(t[0]))})).y((function(t){return a(t[1])}));this.lineObjects=[];for(let l=0;l<this.classNames.length;l++)this.lineObjects.push(this.svg.selectAll("."+this.classNames[l]).data([this.plotData[l][this.index]],(function(t){return s(t[0])})));const n=this.classNames;for(let l=0;l<this.lineObjects.length;l++)this.lineObjects[l].join("path").attr("class",this.classNames[l]).merge(this.lineObjects[l]).transition().duration(1e3).attrTween("d",(function(t){var s=W.Ys("."+n[l]).attr("d"),e=i(t);return(0,G.sk)(s,e)})).style("fill","none").style("stroke",this.colors[l]).style("stroke-width","2")},calculateMaxY:function(t){let s=0;for(let e=0;e<t.length;e++)t[e][1]>s&&(s=t[e][1]);if(s<3)s=3;else if(s<5)s=5;else if(s<10)s=10;else if(s<100){let t=s%10;s=s-t+10}else if(s<500){let t=s%100;s=s-t+100}else if(s<1e3){let t=s%200;s=s-t+200}else if(s<1e4){let t=s%500;s=s-t+500}return s},focusMouseOver:function(){},focusMouseMove:function(){},focusMouseOut:function(){}}},F=V,J=(0,p.Z)(F,U,R,!1,null,null,null),K=J.exports,Q=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{attrs:{id:t.classID+"-container"}},[e("div",{attrs:{id:t.classID+"-title"}},[t._v("Number Of Messages Per Hour")]),e("div",{attrs:{id:t.classID}}),e("div",{staticClass:"buttons"},[e("div",{staticClass:"single-button",on:{click:function(s){return t.changeIndex2(5)}}},[t._v("Hour")]),e("div",{staticClass:"single-button",on:{click:function(s){return t.changeIndex2(6)}}},[t._v("Minute")]),e("div",{staticClass:"single-button",on:{click:function(s){return t.changeIndex2(7)}}},[t._v("Weekday")]),e("div",{staticClass:"single-button",on:{click:function(s){return t.changeIndex2(8)}}},[t._v("Month")])])])},tt=[],st={name:"Plot-2",components:{},props:{data:Object,globalWidth:Number,classIDProp:String},data(){return{plotData:[],starteDate:"",endDate:"",index:5,parseTime:W.Z1g("%Y-%m-%d"),allCurveObjects:[],curve:{},svg:{},xScale:{},yScale:{},x:{},y:{},xAxis:{},yAxis:{},focus:{},margin:{top:20,right:30,bottom:30,left:50},width:776,height:350,indexName:["Day","Month","Year"],classNames:[],classNamesDot:[],lineObjects:[],colors:["red","green","blue","black","brown","coral","darkblue","orange","darkorange","darkviolet","indigo","lightsalmon","midnightblue","red","green","blue","black","brown","coral","darkblue","orange","darkorange","darkviolet","indigo","lightsalmon","midnightblue","red","green","blue","black","brown","coral","darkblue","orange","darkorange","darkviolet","indigo","lightsalmon","midnightblue"],size:!0,classID:"plot-1"}},mounted(){this.classNames=this.classNames.map((t=>this.classIDProp+"-"+t)),this.classID=this.classIDProp,window.addEventListener("resize",this.myEventHandler),this.getStartWidth(),this.createClassArrays(),this.prepareData2()},watch:{data(){this.createClassArrays(),this.prepareData2()},globalWidth:function(){this.switchSize()}},methods:{createClassArrays:async function(){this.classNames=[],this.classNamesDot=[];for(let t=0;t<this.data.names.length;t++){const s=(t+1).toString();this.classNames.push("line-"+s),this.classNamesDot.push(".line"+s)}},getStartWidth:async function(){this.width=document.querySelector("#grid-"+this.classID).clientWidth-(this.margin.left+this.margin.right)},myEventHandler:function(){const t=document.querySelector("#grid-"+this.classID).clientWidth-(this.margin.left+this.margin.right);this.width!=t&&(this.width=t)},changeIndex2:function(t){this.index=t,this.updateCurve()},switchSize:function(){this.globalWidth>0&&(this.width=this.globalWidth+100),this.changeSize()},changeSize:function(){W.Ys(".plot1svg").attr("width",this.width+this.margin.left+this.margin.right)},prepareData2:function(){if(!this.data.allMessages.length)return;this.plotData=[];W.Z1g("%H");2==this.index||1==this.index||3==this.index?this.parseTime=W.Z1g("%M"):5==this.index?this.parseTime=W.Z1g("%H"):6==this.index?this.parseTime=W.Z1g("%H%M"):7==this.index&&(this.parseTime=W.Z1g("%b %d"));for(let t=0;t<this.data.names.length;t++)this.plotData.push([[],[],[],[],[],[],[],[]]);this.plotData.push([[],[],[],[],[],[],[],[]]);for(let t=0;t<this.data.allMessages.length;t++){const s=this.data.allMessages[t].name,e=this.data.names.indexOf(s);this.plotData[e][0].push([this.data.allMessages[t].date]),this.plotData[this.data.names.length][0].push([this.data.allMessages[t].date])}for(let t=0;t<this.plotData.length;t++)for(let s=0;s<this.plotData[t][3].length;s++)this.plotData[t][4].push([this.plotData[t][3][s][0],this.plotData[t][3][s][1]*(2.5*Math.random()+.5)]);for(let t=0;t<this.plotData.length;t++)for(let s=0;s<24;s++){let e=s.toString();e=2==e.length?e:"0"+e,this.plotData[t][5].push([e,0])}for(let t=0;t<this.plotData.length;t++)for(let s=0;s<24;s++)for(let e=0;e<60;e++){let a=s.toString();a=2==a.length?a:"0"+a;let i=e.toString();i=2==i.length?i:"0"+i,this.plotData[t][6].push([a+i,0])}for(let t=0;t<this.data.allMessages.length;t++){const s=this.data.allMessages[t].name,e=this.data.names.indexOf(s),a=this.data.allMessages[t].time.slice(0,2),i=this.data.allMessages[t].time.slice(3,5),n=60*+a+ +i;this.plotData[e][5][+a][1]++,this.plotData[e][6][n][1]++}for(let t=0;t<this.plotData.length;t++){let s=0;for(let e=0;e<this.plotData[t][5].length;e++)s+=this.plotData[t][5][e][1];if(0!=s)for(let e=0;e<this.plotData[t][5].length;e++)this.plotData[t][5][e][1]=this.plotData[t][5][e][1]/s*100}for(let t=0;t<this.plotData.length;t++)for(let s=0;s<7;s++)this.plotData[t][7].push([s,0]);for(let t=0;t<this.data.allMessages.length;t++){const s=this.data.allMessages[t].name,e=this.data.names.indexOf(s),a=this.data.allMessages[t].weekday;this.plotData[e][7][a][1]++}for(let t=0;t<this.data.names.length;t++)for(let s=0;s<7;s++)this.plotData[t][7][s][1]="2022-08-0"+this.plotData[t][7][s][1];this.createPlot()},createPlot:function(){2==this.index?(this.starteDate=this.plotData[2][2][0][0].substring(0,7),this.endDate=this.plotData[2][2][this.plotData[2][2].length-1][0].substring(0,7)):1==this.index?(this.starteDate=this.plotData[2][1][0][0].substring(0,10),this.endDate=this.plotData[2][1][this.plotData[2][1].length-1][0].substring(0,10)):3==this.index?(this.starteDate=this.plotData[2][3][0][0].substring(0,4),this.endDate=this.plotData[2][3][this.plotData[2][3].length-1][0].substring(0,4)):5==this.index&&(this.starteDate=this.plotData[2][5][0][0].substring(0,4),this.endDate=this.plotData[2][5][this.plotData[2][5].length-1][0].substring(0,4)),W.Ys("#"+this.classID+"-svg").remove();const t=W.Ys("#"+this.classID).append("svg").attr("id",this.classID+"-svg").attr("width",this.width+this.margin.left+this.margin.right).attr("height",this.height+this.margin.top+this.margin.bottom).append("g").attr("transform",`translate(${this.margin.left},${this.margin.top})`),s=W.Xf().range([0,this.width]).nice(),e=W.LLu().scale(s).tickFormat(W.i$Z("%a"));t.append("g").attr("transform",`translate(0, ${this.height})`).attr("id",this.classID+"-x-axis");const a=W.BYU().range([this.height,0]),i=W.y4O().scale(a);t.append("g").attr("id",this.classID+"-y-axis"),t.append("text").attr("id",this.classID+"-y-label").attr("text-anchor","end").attr("y","-35px").attr("transform","rotate(-90)").text("average messages per "+this.indexName[this.index-1]);t.append("rect").attr("fill","none").attr("pointer-events","all").attr("class","zoom").attr("width",this.width).attr("height",this.height).on("mouseover",this.focusMouseOver()).on("mousemove",this.focusMouseMove()).on("mouseout",this.focusMouseOut());this.x=s,this.y=a,this.xAxis=e,this.yAxis=i,this.svg=t,this.focus=focus,this.setInitalLine()},setInitalLine(){let t=this.calculateMaxY(this.plotData[0][this.index]);for(let l=0;l<this.data.names.length;l++)t=this.calculateMaxY(this.plotData[l][this.index])>t?this.calculateMaxY(this.plotData[l][this.index]):t;let s=this.parseTime;2==this.index||1==this.index||3==this.index||5==this.index?s=W.Z1g("%H"):6==this.index?s=W.Z1g("%H%M"):7==this.index&&(this.parseTime=W.Z1g("%Y-%m-%d"));const e=0;2==this.index?(this.starteDate=this.plotData[2][2][0][0].substring(0,7),this.endDate=this.plotData[2][2][this.plotData[2][2].length-1][0].substring(0,7)):1==this.index?(this.starteDate=this.plotData[2][1][0][0].substring(0,10),this.endDate=this.plotData[2][1][this.plotData[2][1].length-1][0].substring(0,10)):3==this.index?(this.starteDate=this.plotData[2][3][0][0].substring(0,4),this.endDate=this.plotData[2][3][this.plotData[2][3].length-1][0].substring(0,4)):5==this.index?(this.starteDate=(0+e).toString(),this.endDate=(23+e).toString(),this.starteDate="00",this.endDate="24"):6==this.index?(this.starteDate="0000",this.endDate="2359"):7==this.index&&(this.starteDate="2022-08-01",this.endDate="2022-08-07"),this.x.domain([s(this.starteDate),s(this.endDate)]),this.svg.selectAll("#"+this.classID+"-x-axis").call(this.xAxis),this.y.domain([0,t]).nice(),this.svg.select("#"+this.classID+"-y-axis").call(this.yAxis),this.svg.select("#"+this.classID+"-y-label").text("Average Messages Per "+this.indexName[this.index-1]);const a=this.x,i=(this.y,this.height),n=W.jvg().curve(W.qpX).x((function(t){return a(s(t[0]))})).y((function(t){return i}));this.lineObjects=[];for(let l=0;l<this.classNames.length;l++)this.lineObjects.push(this.svg.selectAll("."+this.classNames[l]).data([this.plotData[l][this.index]],(function(t){return s(t[0])})));for(let l=0;l<this.lineObjects.length;l++)this.lineObjects[l].join("path").attr("class",this.classNames[l]).merge(this.lineObjects[l]).attr("d",(function(t){return n(t)})).style("fill","none").style("stroke",this.colors[l]).style("stroke-width","2");this.updateCurve()},updateCurve(){let t=this.calculateMaxY(this.plotData[0][this.index]);for(let l=0;l<this.data.names.length;l++)t=this.calculateMaxY(this.plotData[l][this.index])>t?this.calculateMaxY(this.plotData[l][this.index]):t;console.log(this.plotData),console.log(this.index);let s=this.parseTime;2==this.index?s=W.Z1g("%Y-%m"):1==this.index?s=W.Z1g("%Y-%m-%d"):3==this.index?s=W.Z1g("%Y"):5==this.index||6==this.index?s=W.Z1g("%H"):7==this.index?s=W.Z1g("%Y-%m-%d"):8==this.index&&(s=W.Z1g("%H")),2==this.index?(this.starteDate=this.plotData[2][2][0][0].substring(0,7),this.endDate=this.plotData[2][2][this.plotData[2][2].length-1][0].substring(0,7)):1==this.index?(this.starteDate=this.plotData[2][1][0][0].substring(0,10),this.endDate=this.plotData[2][1][this.plotData[2][1].length-1][0].substring(0,10)):3==this.index?(this.starteDate=this.plotData[2][3][0][0].substring(0,4),this.endDate=this.plotData[2][3][this.plotData[2][3].length-1][0].substring(0,4)):7==this.index?(this.starteDate="2022-08-01",this.endDate="2022-08-07"):(this.starteDate=0,this.endDate=23),this.x.domain([s(this.starteDate),s(this.endDate)]),this.svg.selectAll("#"+this.classID+"-x-axis").transition().duration(1e3).call(this.xAxis),this.y.domain([0,t]).nice(),this.svg.select("#"+this.classID+"-y-axis").transition().duration(1e3).call(this.yAxis),this.svg.select("#"+this.classID+"-y-label").transition().duration(1e3).text("Average Messages Per Day");const e=this.x,a=this.y,i=W.jvg().curve(W.qpX).x((function(t){return e(s(t[0]))})).y((function(t){return a(t[1])}));if(this.lineObjects=[],7==this.index)for(let l=0;l<this.classNames.length;l++)this.lineObjects.push(this.svg.selectAll("."+this.classNames[l]).data([this.plotData[l][this.index]],(function(t){return s("2022-08-0"+t[0]+1)})));else for(let l=0;l<this.classNames.length;l++)this.lineObjects.push(this.svg.selectAll("."+this.classNames[l]).data([this.plotData[l][this.index]],(function(t){return s(t[0])})));const n=this.classNames;for(let l=0;l<this.lineObjects.length;l++)this.lineObjects[l].join("path").attr("class",this.classNames[l]).merge(this.lineObjects[l]).transition().duration(1e3).attrTween("d",(function(t){var s=W.Ys("."+n[l]).attr("d"),e=i(t);return(0,G.sk)(s,e)})).style("fill","none").style("stroke",this.colors[l]).style("stroke-width","2")},calculateMaxY:function(t){let s=0;for(let e=0;e<t.length;e++)t[e][1]>s&&(s=t[e][1]);if(s<10)s=10;else if(s<100){let t=s%10;s=s-t+10}else if(s<500){let t=s%100;s=s-t+100}else if(s<1e3){let t=s%200;s=s-t+200}else if(s<1e4){let t=s%500;s=s-t+500}return s},focusMouseOver:function(){},focusMouseMove:function(){},focusMouseOut:function(){}}},et=st,at=(0,p.Z)(et,Q,tt,!1,null,null,null),it=at.exports,nt=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{attrs:{id:t.classID+"-container"}},[e("div",{attrs:{id:t.classID+"-title"}},[t._v(" Number Of Messages per "+t._s(this.indexName[this.index-1])+" ")]),e("div",{attrs:{id:t.classID}}),e("div",{staticClass:"buttons"},[e("div",{staticClass:"single-button",on:{click:function(s){return t.changeIndex2(3)}}},[t._v("Year")]),e("div",{staticClass:"single-button",on:{click:function(s){return t.changeIndex2(2)}}},[t._v("Month")]),e("div",{staticClass:"single-button",on:{click:function(s){return t.changeIndex2(1)}}},[t._v("Days")]),e("input",{attrs:{type:"date",id:"start",name:"trip-start",min:t.starteDate,max:t.endDate},domProps:{value:t.starteDate}}),e("input",{attrs:{type:"date",id:"end",name:"trip-end",min:t.starteDate,max:t.endDate},domProps:{value:t.endDate}}),e("date-picker",{attrs:{"default-value":"2020-01-01",valueType:"format"},model:{value:t.testdate,callback:function(s){t.testdate=s},expression:"testdate"}}),e("date-picker",{attrs:{type:"datetime"},model:{value:t.testdate,callback:function(s){t.testdate=s},expression:"testdate"}}),e("date-picker",{attrs:{range:""},model:{value:t.testdate,callback:function(s){t.testdate=s},expression:"testdate"}})],1)])},lt=[],ht=e(1387),ot={name:"Plot-6",components:{DatePicker:ht.Z},props:{data:Object,globalWidth:Number,classIDProp:String},data(){return{plotData:[],starteDate:"",endDate:"",testdate:new Date(2019,11,8),index:3,parseTime:W.Z1g("%Y-%m-%d"),allCurveObjects:[],curve:{},svg:{},xScale:{},yScale:{},x:{},y:{},xAxis:{},yAxis:{},focus:{},margin:{top:20,right:30,bottom:30,left:50},width:776,height:350,indexName:["Minute","Hour","Year","Day","Month"],classNames:[],classNamesDot:[],lineObjects:[],colors:["red","green","blue","black","brown","coral","darkblue","orange","darkorange","darkviolet","indigo","lightsalmon","midnightblue","red","green","blue","black","brown","coral","darkblue","orange","darkorange","darkviolet","indigo","lightsalmon","midnightblue","red","green","blue","black","brown","coral","darkblue","orange","darkorange","darkviolet","indigo","lightsalmon","midnightblue"],size:!0,classID:"plot-6"}},mounted(){this.classNames=this.classNames.map((t=>this.classIDProp+"-"+t)),this.classID=this.classIDProp,window.addEventListener("resize",this.myEventHandler),this.getStartWidth(),this.createClassArrays(),this.prepareData2()},watch:{data(){this.createClassArrays(),this.prepareData2()},globalWidth:function(){this.switchSize()}},methods:{createClassArrays:function(){this.classNames=[],this.classNamesDot=[];for(let t=0;t<=this.data.names.length;t++){const s=(t+1).toString();this.classNames.push("line-"+s),this.classNamesDot.push(".line"+s)}},getStartWidth:async function(){this.width=document.querySelector("#grid-"+this.classID).clientWidth-(this.margin.left+this.margin.right)},myEventHandler:function(){const t=document.querySelector("#grid-"+this.classID).clientWidth-(this.margin.left+this.margin.right);this.width!=t&&(this.width=t)},changeIndex2:function(t){this.index=t,this.updateCurve()},switchSize:function(){this.globalWidth>0&&(this.width=this.globalWidth+100),this.changeSize()},changeSize:function(){W.Ys(".plot1svg").attr("width",this.width+this.margin.left+this.margin.right)},prepareData2:function(){if(!this.data.allMessages.length)return;this.plotData=[],console.log(this.data.allMessages);const t=W.Z1g("%Y-%m-%d");2==this.index?this.parseTime=W.Z1g("%Y-%m"):1==this.index?this.parseTime=W.Z1g("%Y-%m-%d"):(3==this.index||3==this.index||4==this.index||5==this.index||6==this.index||7==this.index||8==this.index)&&(this.parseTime=W.Z1g("%Y"));for(let s=0;s<this.data.names.length;s++)this.plotData.push([[],[],[],[],[]]);this.plotData.push([[],[],[],[],[]]);for(let s=0;s<this.data.allMessages.length;s++){const t=this.data.allMessages[s].name,e=this.data.names.indexOf(t);this.plotData[e][0].push([this.data.allMessages[s].date]),this.plotData[this.data.names.length][0].push([this.data.allMessages[s].date])}for(let s=0;s<this.plotData.length;s++){let t=[],e="";for(let a=0;a<this.plotData[s][0].length;a++)if(this.plotData[s][0][a][0]!=e)e=this.plotData[s][0][a][0],t.push([e,1]);else{e=this.plotData[s][0][a][0];const i=t[t.length-1][1];t[t.length-1]=[e,i+1]}this.plotData[s][0]=t}for(let s=0;s<this.plotData.length;s++){const e=this.plotData[s][0][0][0],a=this.plotData[s][0][this.plotData[s][0].length-1][0],i=[];for(let t=0;t<this.plotData[s][0].length;t++)i.push(this.plotData[s][0][t][0]);for(let n=new Date(t(e));n<=new Date(t(a));n.setDate(n.getDate()+1)){const t=new Date(n).toISOString().split("T")[0];if(i.includes(t)){const e=i.indexOf(t);this.plotData[s][1].push([this.plotData[s][0][e][0],this.plotData[s][0][e][1]])}else this.plotData[s][1].push([t,0])}}for(let s=0;s<this.plotData.length;s++){const e=this.plotData[s][0][0][0],a=this.plotData[s][0][this.plotData[s][0].length-1][0],i=[];let n=[],l=[];for(let h=new Date(t(e));h<=new Date(t(a));h.setDate(h.getDate()+1)){const t=new Date(h).toISOString().substring(0,7);i.includes(t)||(i.push(t),this.plotData[s][2].push([t,0]),n.push(t),l.push(0));const e=n.indexOf(t);l[e]++}for(let t=0;t<this.plotData[s][0].length;t+=1){const e=this.plotData[s][0][t][0].substring(0,7),a=this.plotData[s][0][t][1],n=i.indexOf(e);this.plotData[s][2][n][1]=this.plotData[s][2][n][1]+a}for(let t=0;t<this.plotData[s][2].length;t+=1){const e=this.plotData[s][2][t][0],a=this.plotData[s][2][t][1],i=n.indexOf(e),h=l[i];0!=a&&(this.plotData[s][2][t][1]=a/h)}}for(let s=0;s<this.plotData.length;s++){const e=this.plotData[s][0][0][0],a=this.plotData[s][0][this.plotData[s][0].length-1][0],i=[];let n=[],l=[];for(let h=new Date(t(e));h<=new Date(t(a));h.setDate(h.getDate()+1)){const t=new Date(h).toISOString().substring(0,4);i.includes(t)||(i.push(t),this.plotData[s][3].push([t,0]),n.push(t),l.push(0));const e=n.indexOf(t);l[e]++}for(let t=0;t<this.plotData[s][0].length;t+=1){const e=this.plotData[s][0][t][0].substring(0,4),a=this.plotData[s][0][t][1],n=i.indexOf(e);this.plotData[s][3][n][1]=this.plotData[s][3][n][1]+a}for(let t=0;t<this.plotData[s][3].length;t+=1){const e=this.plotData[s][3][t][0],a=this.plotData[s][3][t][1],i=n.indexOf(e),h=l[i];0!=a&&(this.plotData[s][3][t][1]=a/h)}}for(let s=0;s<this.plotData.length;s++)for(let t=0;t<this.plotData[s][3].length;t++)this.plotData[s][4].push([this.plotData[s][3][t][0],this.plotData[s][3][t][1]*(2.5*Math.random()+.5)]);console.log(this.plotData),this.createPlot()},createPlot:function(){2==this.index?(this.starteDate=this.plotData[2][2][0][0].substring(0,7),this.endDate=this.plotData[2][2][this.plotData[2][2].length-1][0].substring(0,7)):1==this.index?(this.starteDate=this.plotData[2][1][0][0].substring(0,10),this.endDate=this.plotData[2][1][this.plotData[2][1].length-1][0].substring(0,10)):(3==this.index||4==this.index||5==this.index||6==this.index||7==this.index||8==this.index)&&(this.starteDate=this.plotData[2][3][0][0].substring(0,4),this.endDate=this.plotData[2][3][this.plotData[2][3].length-1][0].substring(0,4)),W.Ys("#"+this.classID+"-svg").remove();const t=W.Ys("#"+this.classID).append("svg").attr("id",this.classID+"-svg").attr("width",this.width+this.margin.left+this.margin.right).attr("height",this.height+this.margin.top+this.margin.bottom).append("g").attr("transform",`translate(${this.margin.left},${this.margin.top})`),s=W.Xf().range([0,this.width]),e=W.LLu().scale(s);t.append("g").attr("transform",`translate(0, ${this.height})`).attr("id",this.classID+"-x-axis");const a=W.BYU().range([this.height,0]),i=W.y4O().scale(a);t.append("g").attr("id",this.classID+"-y-axis"),t.append("text").attr("id",this.classID+"-y-label").attr("text-anchor","end").attr("y","-35px").attr("transform","rotate(-90)").text("average messages per "+this.indexName[this.index-1]),this.x=s,this.y=a,this.xAxis=e,this.yAxis=i,this.svg=t,this.focus=focus,this.setInitalLine()},setInitalLine(){let t=0;for(let n=0;n<=this.data.names.length;n++)t=this.calculateMaxY(this.plotData[n][this.index])>t?this.calculateMaxY(this.plotData[n][this.index]):t;let s=this.parseTime;2==this.index?s=W.Z1g("%Y-%m"):1==this.index?s=W.Z1g("%Y-%m-%d"):3==this.index&&(s=W.Z1g("%Y")),2==this.index?(this.starteDate=this.plotData[2][2][0][0].substring(0,7),this.endDate=this.plotData[2][2][this.plotData[2][2].length-1][0].substring(0,7)):1==this.index?(this.starteDate=this.plotData[2][1][0][0].substring(0,10),this.endDate=this.plotData[2][1][this.plotData[2][1].length-1][0].substring(0,10)):3==this.index&&(this.starteDate=this.plotData[2][3][0][0].substring(0,4),this.endDate=this.plotData[2][3][this.plotData[2][3].length-1][0].substring(0,4)),this.x.domain([s(this.starteDate),s(this.endDate)]),this.svg.selectAll("#"+this.classID+"-x-axis").call(this.xAxis),this.y.domain([0,t]).nice(),this.svg.select("#"+this.classID+"-y-axis").call(this.yAxis),this.svg.select("#"+this.classID+"-y-label").text("Average Messages Per "+this.indexName[this.index-1]);const e=this.x,a=(this.y,this.height),i=W.jvg().curve(W.qpX).x((function(t){return e(s(t[0]))})).y((function(t){return a}));this.lineObjects=[];for(let n=0;n<this.classNames.length;n++)this.lineObjects.push(this.svg.selectAll("."+this.classNames[n]).data([this.plotData[n][this.index]],(function(t){return s(t[0])})));for(let n=0;n<this.lineObjects.length;n++)this.lineObjects[n].join("path").attr("class",this.classNames[n]).merge(this.lineObjects[n]).attr("d",(function(t){return i(t)})).style("fill","none").style("stroke",this.colors[n]).style("stroke-width","2");this.updateCurve()},updateCurve(){let t=0;for(let l=0;l<=this.data.names.length;l++)t=this.calculateMaxY(this.plotData[l][this.index])>t?this.calculateMaxY(this.plotData[l][this.index]):t;let s=this.parseTime;2==this.index?s=W.Z1g("%Y-%m"):1==this.index?s=W.Z1g("%Y-%m-%d"):3==this.index&&(s=W.Z1g("%Y")),2==this.index?(this.starteDate=this.plotData[2][2][0][0].substring(0,7),this.endDate=this.plotData[2][2][this.plotData[2][2].length-1][0].substring(0,7)):1==this.index?(this.starteDate=this.plotData[2][1][0][0].substring(0,10),this.endDate=this.plotData[2][1][this.plotData[2][1].length-1][0].substring(0,10)):3==this.index&&(this.starteDate=this.plotData[2][3][0][0].substring(0,4),this.endDate=this.plotData[2][3][this.plotData[2][3].length-1][0].substring(0,4)),this.x.domain([s(this.starteDate),s(this.endDate)]),this.svg.selectAll("#"+this.classID+"-x-axis").transition().duration(1e3).call(this.xAxis),this.y.domain([0,t]).nice(),this.svg.select("#"+this.classID+"-y-axis").transition().duration(1e3).call(this.yAxis),this.svg.select("#"+this.classID+"-y-label").transition().duration(1e3).text("Average Messages Per Day");const e=this.x,a=this.y,i=W.jvg().curve(W.qpX).x((function(t){return e(s(t[0]))})).y((function(t){return a(t[1])}));this.lineObjects=[];for(let l=0;l<this.classNames.length;l++)this.lineObjects.push(this.svg.selectAll("."+this.classNames[l]).data([this.plotData[l][this.index]],(function(t){return s(t[0])})));const n=this.classNames;for(let l=0;l<this.lineObjects.length;l++)this.lineObjects[l].join("path").attr("class",this.classNames[l]).merge(this.lineObjects[l]).transition().duration(1e3).attrTween("d",(function(t){var s=W.Ys("."+n[l]).attr("d"),e=i(t);return(0,G.sk)(s,e)})).style("fill","none").style("stroke",this.colors[l]).style("stroke-width","2")},calculateMaxY:function(t){let s=0;for(let e=0;e<t.length;e++)t[e][1]>s&&(s=t[e][1]);if(s<3)s=3;else if(s<5)s=5;else if(s<10)s=10;else if(s<100){let t=s%10;s=s-t+10}else if(s<500){let t=s%100;s=s-t+100}else if(s<1e3){let t=s%200;s=s-t+200}else if(s<1e4){let t=s%500;s=s-t+500}return s},focusMouseOver:function(){},focusMouseMove:function(){},focusMouseOut:function(){}}},rt=ot,ct=(0,p.Z)(rt,nt,lt,!1,null,null,null),dt=ct.exports,gt=function(){var t=this,s=t.$createElement;t._self._c;return t._m(0)},ut=[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{attrs:{id:"plot-outside"}},[e("div",{attrs:{id:"plot-inside"}})])}],pt={name:"Plot-1",components:{},props:{data:Object},data(){return{plotData:[[[1,1],[2,2],[3,3],[4,4],[5,5],[6,6]],[[1,6],[2,5],[3,4],[4,3],[5,2],[6,1]]],margin:{top:20,right:30,bottom:30,left:50},width:776,height:350,x:{},y:{},xAxis:{},yAxis:{},focus:{},svg:{}}},mounted(){this.createPlot()},watch:{data(){},globalWidth(){}},methods:{createPlot:function(){W.Ys("#plot-inside-svg").remove();const t=W.Ys("#plot-inside").append("svg").attr("id","plot-inside-svg").attr("width",this.width+this.margin.left+this.margin.right).attr("height",this.height+this.margin.top+this.margin.bottom).append("g").attr("transform",`translate(${this.margin.left},${this.margin.top})`),s=W.Xf().range([0,this.width]),e=W.LLu().scale(s);t.append("g").attr("transform",`translate(0, ${this.height})`).attr("id","plot-inside-x-axis");const a=W.BYU().range([this.height,0]),i=W.y4O().scale(a);t.append("g").attr("id","plot-inside-y-axis"),t.append("text").attr("id","plot-inside-y-label").attr("text-anchor","end").attr("y","-35px").attr("transform","rotate(-90)").text("average messages per TEST1"),this.x=s,this.y=a,this.xAxis=e,this.yAxis=i,this.svg=t,this.focus=focus},createClassArrays:function(){this.classNames=[],this.classNamesDot=[];for(let t=0;t<=this.data.names.length;t++){const s=(t+1).toString();this.classNames.push("line-"+s),this.classNamesDot.push(".line"+s)}}}},mt=pt,Dt=(0,p.Z)(mt,gt,ut,!1,null,null,null),ft=Dt.exports,xt=function(){var t=this,s=t.$createElement;t._self._c;return t._m(0)},bt=[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"test-plot"},[e("div",{attrs:{id:"my_dataviz"}})])}];a["default"].use(r.Z);var vt={components:{},name:"D3BarPlot",props:{},data(){return{dataObj:[{Country:"United States",Value:"12394"},{Country:"Germany",Value:"6452"},{Country:"Poland",Value:"6468"}]}},mounted(){this.init()},watch:{},methods:{init:function(){const t={top:50,right:50,bottom:90,left:50},s=460-t.left-t.right,e=450-t.top-t.bottom,a=W.Ys("#my_dataviz").append("svg").attr("width",s+t.left+t.right).attr("height",e+t.top+t.bottom).append("g").attr("transform",`translate(${t.left},${t.top})`),i=W.tiA().range([0,s]).domain(this.dataObj.map((t=>t.Country))).padding(.2);a.append("g").attr("transform",`translate(0,${e})`).call(W.LLu(i)).selectAll("text").attr("transform","translate(-10,0)rotate(-45)").style("text-anchor","end").style("color","black");const n=W.BYU().domain([0,14e3]).range([e,0]),l=W.y4O().scale(n).ticks(7,",.0f");a.append("g").call(l).selectAll("text").attr("transform","translate(-10,0)rotate(-45)").style("text-anchor","end").style("color","black").style("font-size","10px"),a.selectAll("mybar").data(this.dataObj).join("rect").attr("x",(t=>i(t.Country))).attr("width",i.bandwidth()).attr("fill","black").attr("height",(t=>e-n(0))).attr("y",(t=>n(0))),a.selectAll("rect").transition().duration(800).attr("y",(t=>n(t.Value))).attr("height",(t=>e-n(t.Value))).delay(((t,s)=>(console.log(s),100*s)))}}},yt=vt,wt=(0,p.Z)(yt,xt,bt,!1,null,"fea20d6a",null),Ot=(wt.exports,function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[e("div",{staticClass:"title"},[t._v(" Number Of Messages er "+t._s(this.indexName[this.index-1])+" ")]),e("div",{staticClass:"svg-container",attrs:{id:"container"}})])}),Mt=[],Nt={name:"D3LineChartv3Resize",components:{},props:{data:Object},data(){return{plotData:[],starteDate:"",endDate:"",index:3,parseTime:W.Z1g("%Y-%m-%d"),allCurveObjects:[],curve:{},svg:{},xScale:{},yScale:{},x:{},y:{},xAxis:{},yAxis:{},focus:{},margin:{top:50,right:50,bottom:50,left:50},width:960,height:270,indexName:["Day","Month","Year"],classNames:["line1","line2","line3"],classNamesDot:[".line1",".line2",".line3"],lineObjects:[],colors:["red","green","blue"]}},mounted(){this.prepareData2()},watch:{data(){this.prepareData2()}},methods:{changeIndex2:function(t){this.index=t,this.updateCurve()},prepareData2:function(){if(!this.data.allMessages.length)return;this.plotData=[];const t=W.Z1g("%Y-%m-%d");2==this.index?this.parseTime=W.Z1g("%Y-%m"):1==this.index?this.parseTime=W.Z1g("%Y-%m-%d"):3==this.index&&(this.parseTime=W.Z1g("%Y"));for(let s=0;s<this.data.names.length;s++)this.plotData.push([[],[],[],[],[]]);this.plotData.push([[],[],[],[],[]]);for(let s=0;s<this.data.allMessages.length;s++){const t=this.data.allMessages[s].name,e=this.data.names.indexOf(t);this.plotData[e][0].push([this.data.allMessages[s].date]),this.plotData[this.data.names.length][0].push([this.data.allMessages[s].date])}for(let s=0;s<this.plotData.length;s++){let t=[],e="";for(let a=0;a<this.plotData[s][0].length;a++)if(this.plotData[s][0][a][0]!=e)e=this.plotData[s][0][a][0],t.push([e,1]);else{e=this.plotData[s][0][a][0];const i=t[t.length-1][1];t[t.length-1]=[e,i+1]}this.plotData[s][0]=t}for(let s=0;s<this.plotData.length;s++){const e=this.plotData[s][0][0][0],a=this.plotData[s][0][this.plotData[s][0].length-1][0],i=[];for(let t=0;t<this.plotData[s][0].length;t++)i.push(this.plotData[s][0][t][0]);for(let n=new Date(t(e));n<=new Date(t(a));n.setDate(n.getDate()+1)){const t=new Date(n).toISOString().split("T")[0];if(i.includes(t)){const e=i.indexOf(t);this.plotData[s][1].push([this.plotData[s][0][e][0],this.plotData[s][0][e][1]])}else this.plotData[s][1].push([t,0])}}for(let s=0;s<this.plotData.length;s++){const e=this.plotData[s][0][0][0],a=this.plotData[s][0][this.plotData[s][0].length-1][0],i=[];let n=[],l=[];for(let h=new Date(t(e));h<=new Date(t(a));h.setDate(h.getDate()+1)){const t=new Date(h).toISOString().substring(0,7);i.includes(t)||(i.push(t),this.plotData[s][2].push([t,0]),n.push(t),l.push(0));const e=n.indexOf(t);l[e]++}for(let t=0;t<this.plotData[s][0].length;t+=1){const e=this.plotData[s][0][t][0].substring(0,7),a=this.plotData[s][0][t][1],n=i.indexOf(e);this.plotData[s][2][n][1]=this.plotData[s][2][n][1]+a}for(let t=0;t<this.plotData[s][2].length;t+=1){const e=this.plotData[s][2][t][0],a=this.plotData[s][2][t][1],i=n.indexOf(e),h=l[i];0!=a&&(this.plotData[s][2][t][1]=a/h)}}console.log(this.plotData);for(let s=0;s<this.plotData.length;s++){const e=this.plotData[s][0][0][0],a=this.plotData[s][0][this.plotData[s][0].length-1][0],i=[];let n=[],l=[];for(let h=new Date(t(e));h<=new Date(t(a));h.setDate(h.getDate()+1)){const t=new Date(h).toISOString().substring(0,4);i.includes(t)||(i.push(t),this.plotData[s][3].push([t,0]),n.push(t),l.push(0));const e=n.indexOf(t);l[e]++}for(let t=0;t<this.plotData[s][0].length;t+=1){const e=this.plotData[s][0][t][0].substring(0,4),a=this.plotData[s][0][t][1],n=i.indexOf(e);this.plotData[s][3][n][1]=this.plotData[s][3][n][1]+a}for(let t=0;t<this.plotData[s][3].length;t+=1){const e=this.plotData[s][3][t][0],a=this.plotData[s][3][t][1],i=n.indexOf(e),h=l[i];0!=a&&(this.plotData[s][3][t][1]=a/h)}}for(let s=0;s<this.plotData.length;s++)for(let t=0;t<this.plotData[s][3].length;t++)this.plotData[s][4].push([this.plotData[s][3][t][0],this.plotData[s][3][t][1]*(2.5*Math.random()+.5)]);this.createPlot()},createPlot:function(){2==this.index?(this.starteDate=this.plotData[2][2][0][0].substring(0,7),this.endDate=this.plotData[2][2][this.plotData[2][2].length-1][0].substring(0,7)):1==this.index?(this.starteDate=this.plotData[2][1][0][0].substring(0,10),this.endDate=this.plotData[2][1][this.plotData[2][1].length-1][0].substring(0,10)):3==this.index&&(this.starteDate=this.plotData[2][3][0][0].substring(0,4),this.endDate=this.plotData[2][3][this.plotData[2][3].length-1][0].substring(0,4)),W.Ys("svg").remove();const t=W.Ys("#container").append("svg").attr("viewBox","0 0 1000 1000").attr("preserveAspectRatio","none").append("g").attr("transform",`translate(${this.margin.left},${-this.margin.top})`),s=W.Xf().range([0,this.width]),e=W.LLu().scale(s);t.append("g").attr("transform",`translate(0, ${this.height})`).attr("class","myXaxis");const a=W.BYU().range([this.height,0]),i=W.y4O().scale(a);t.append("g").attr("class","myYaxis"),t.append("text").attr("class","y-label").attr("text-anchor","end").attr("y","-35px").attr("font-size","2rem").attr("transform","rotate(-90)").text("average messages per "+this.indexName[this.index-1]);t.append("rect").attr("fill","none").attr("pointer-events","all").attr("class","zoom").attr("width",this.width).attr("height",this.height).on("mouseover",this.focusMouseOver()).on("mousemove",this.focusMouseMove()).on("mouseout",this.focusMouseOut());this.x=s,this.y=a,this.xAxis=e,this.yAxis=i,this.svg=t,this.focus=focus,this.setInitalLine()},setInitalLine(){let t=this.calculateMaxY(this.plotData[2][this.index]),s=this.parseTime;2==this.index?s=W.Z1g("%Y-%m"):1==this.index?s=W.Z1g("%Y-%m-%d"):3==this.index&&(s=W.Z1g("%Y")),2==this.index?(this.starteDate=this.plotData[2][2][0][0].substring(0,7),this.endDate=this.plotData[2][2][this.plotData[2][2].length-1][0].substring(0,7)):1==this.index?(this.starteDate=this.plotData[2][1][0][0].substring(0,10),this.endDate=this.plotData[2][1][this.plotData[2][1].length-1][0].substring(0,10)):3==this.index&&(this.starteDate=this.plotData[2][3][0][0].substring(0,4),this.endDate=this.plotData[2][3][this.plotData[2][3].length-1][0].substring(0,4)),this.x.domain([s(this.starteDate),s(this.endDate)]),this.svg.selectAll(".myXaxis").call(this.xAxis),this.y.domain([0,t]).nice(),this.svg.selectAll(".myYaxis").call(this.yAxis),this.svg.select(".y-label").text("Average Messages Per "+this.indexName[this.index-1]);const e=this.x,a=(this.y,this.height),i=W.jvg().curve(W.qpX).x((function(t){return e(s(t[0]))})).y((function(t){return a}));this.lineObjects=[];for(let n=0;n<this.classNames.length;n++)this.lineObjects.push(this.svg.selectAll("."+this.classNames[n]).data([this.plotData[n][this.index]],(function(t){return s(t[0])})));for(let n=0;n<this.lineObjects.length;n++)this.lineObjects[n].join("path").attr("class",this.classNames[n]).merge(this.lineObjects[n]).attr("d",(function(t){return i(t)})).style("fill","none").style("stroke",this.colors[n]).style("stroke-width","3");this.updateCurve()},updateCurve(){let t=this.calculateMaxY(this.plotData[2][this.index]),s=this.parseTime;2==this.index?s=W.Z1g("%Y-%m"):1==this.index?s=W.Z1g("%Y-%m-%d"):3==this.index&&(s=W.Z1g("%Y")),2==this.index?(this.starteDate=this.plotData[2][2][0][0].substring(0,7),this.endDate=this.plotData[2][2][this.plotData[2][2].length-1][0].substring(0,7)):1==this.index?(this.starteDate=this.plotData[2][1][0][0].substring(0,10),this.endDate=this.plotData[2][1][this.plotData[2][1].length-1][0].substring(0,10)):3==this.index&&(this.starteDate=this.plotData[2][3][0][0].substring(0,4),this.endDate=this.plotData[2][3][this.plotData[2][3].length-1][0].substring(0,4)),this.x.domain([s(this.starteDate),s(this.endDate)]),this.svg.selectAll(".myXaxis").transition().duration(1e3).call(this.xAxis),this.y.domain([0,t]).nice(),this.svg.selectAll(".myYaxis").transition().duration(1e3).call(this.yAxis),this.svg.select(".y-label").transition().duration(1e3).text("Average Messages Per Day");const e=this.x,a=this.y,i=W.jvg().curve(W.qpX).x((function(t){return e(s(t[0]))})).y((function(t){return a(t[1])}));this.lineObjects=[];for(let l=0;l<this.classNames.length;l++)this.lineObjects.push(this.svg.selectAll("."+this.classNames[l]).data([this.plotData[l][this.index]],(function(t){return s(t[0])})));const n=this.classNames;for(let l=0;l<this.lineObjects.length;l++)this.lineObjects[l].join("path").attr("class",this.classNames[l]).merge(this.lineObjects[l]).transition().duration(1e3).attrTween("d",(function(t){var s=W.Ys("."+n[l]).attr("d"),e=i(t);return(0,G.sk)(s,e)})).style("fill","none").style("stroke",this.colors[l]).style("stroke-width","3")},calculateMaxY:function(t){let s=0;for(let e=0;e<t.length;e++)t[e][1]>s&&(s=t[e][1]);if(s<10)s=10;else if(s<100){let t=s%10;s=s-t+10}else if(s<500){let t=s%100;s=s-t+100}else if(s<1e3){let t=s%200;s=s-t+200}else if(s<1e4){let t=s%500;s=s-t+500}return s},focusMouseOver:function(){console.log("DRIN")},focusMouseMove:function(){console.log("BEWEGUNG!")},focusMouseOut:function(){console.log("DRAUSSEN")}}},Ct=Nt,Pt=(0,p.Z)(Ct,Ot,Mt,!1,null,null,null),kt=Pt.exports,At=function(){var t=this,s=t.$createElement;t._self._c;return t._m(0)},St=[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"test"},[e("p",{staticStyle:{height:"80px",color:"black"}},[t._v("Guten Tag! Wie gehts?!?!")]),e("div",{staticClass:"content"})])}],It={name:"TestVue",props:{},data(){return{}},mounted(){}},Yt=It,Tt=(0,p.Z)(Yt,At,St,!1,null,null,null),_t=Tt.exports,jt={name:"App",data(){return{d3Data:{0:100,1:200,2:167,3:776},data:[],width:100,height:100,showReselectNames:!1,allChats:{names:[],allMessages:[],messagesPerPersoan:[],totalConfig:{firstMessage:"",totalMessages:0,messagesPerTime:{}},configPerPersoan:[]},allNames:[],config:{firstMsg:"",totalMsg:0,names:[]},allWidths:[0,0,0,0,0,0,0],allWidths2:{plot1:0,plot2:0,plot3:0,plot4:0,plot5:0,plot6:0,plot7:0},testProp:1,widthPlot1:0,showSelectedNames:!1,selectedNames:[]}},components:{Plot1:K,Plot2:it,Plot6:dt,TestPlot:ft,D3LineChartv3Resize:kt,TestVue:_t},mounted(){window.addEventListener("resize",this.myEventHandler)},methods:{myEventHandler(){this.testProp++;const t=document.querySelector("#grid-plot-1").clientWidth,s=document.querySelector("#grid-plot-2").clientWidth,e=document.querySelector("#grid-plot-3").clientWidth,a=document.querySelector("#grid-plot-4").clientWidth,i=document.querySelector("#grid-plot-5").clientWidth,n=document.querySelector("#grid-plot-6").clientWidth,l=document.querySelector("#grid-plot-7").clientWidth;this.allWidths[0]=t,this.allWidths[1]=s,this.allWidths[2]=e,this.allWidths[3]=a,this.allWidths[4]=i,this.allWidths[5]=n,this.allWidths[6]=l,this.allWidths2.plot1=t,this.allWidths2.plot2=s,this.allWidths2.plot3=e,this.allWidths2.plot4=a,this.allWidths2.plot5=i,this.allWidths2.plot6=n,this.allWidths2.plot7=l,this.widthPlot1=t},showfile:async function(){var t=document.getElementById("input").files[0];let s=await t.text();const e=/\[\d\d\.\d\d\.\d\d,\s[0-9]{2}:[0-9]{2}:[0-9]{2}(\.[0-9]{1,3})?\]/g;let a=s.match(e),i=s.split(/\[\d\d.\d\d.\d\d, \d\d:\d\d:\d\d\]/);i.shift(),this.data=[],this.allNames=[],this.allChats={names:[],allMessages:[],messagesPerPersoan:[],totalConfig:{firstMessage:"",totalMessages:0,messagesPerTime:{}},configPerPersoan:[]},this.convertData(a,i)},creatAllNamesArray:function(){this.showSelectedNames=!0,this.selectedNames=[];for(let t=0;t<this.allChats.names.length;t++)this.selectedNames.push({name:this.allChats.names[t],active:!0,numberOfMessages:this.allChats.configPerPersoan[t].totalMessages});console.log(this.allChats)},convertData:function(t,s){for(let e=0;e<t.length;e++){if(!s[e].includes(":"))continue;if(s[e].includes("Ende-zu-Ende-verschlüsselt"))continue;if(s[e].includes("Deine Sicherheitsnummer für alle Teilnehmer"))continue;let[a,...i]=s[e].split(": ");i=i.join(": ").replace(/(\r\n|\n|\r)/gm," ").replace(/\s{2,}/g," ").trim(),a=a.trim();const n=i.length;let l=t[e].slice(1,9);l="20"+l.substring(6,8)+"-"+l.substring(3,5)+"-"+l.substring(0,2);const h=t[e].slice(11,19),o=this.toTimestamp(l.substring(0,4),l.substring(5,7),l.substring(8,10),h.substring(0,2),h.substring(3,5),h.substring(6,8));this.allNames.includes(a)||(this.allNames.push(a),this.config.names.push({totalMsg:0})),this.allChats.names.includes(a)||(this.allChats.names.push(a),this.allChats.configPerPersoan.push({totalMessages:0,firstMessage:"",messagesPerTime:{}}),this.allChats.messagesPerPersoan.push([]));const r=new Date(l.substring(0,4)+"-"+l.substring(5,7)+"-"+l.substring(8,10)).getDay();this.allChats.allMessages.push({date:l,day:l.substring(8,10),month:l.substring(5,7),year:l.substring(0,4),msg:i,weekday:r,name:a,time:h,length:n,timestamp:o,dateAndTime:t[e].substring(1,19)}),this.allChats.messagesPerPersoan[this.allNames.indexOf(a)].push({date:l,day:l.substring(8,10),month:l.substring(5,7),year:l.substring(0,4),msg:i,name:a,time:h,length:n,timestamp:o,dateAndTime:t[e].substring(1,19)}),this.data.push({date:l,msg:i,name:a,time:h,length:n,timestamp:o}),this.config.totalMsg++,this.allChats.totalConfig.totalMessages++,0==e&&(this.config.firstMsg=l,this.allChats.totalConfig.firstMessage=l),this.config.names[this.allNames.indexOf(a)].totalMsg++,this.allChats.configPerPersoan[this.allNames.indexOf(a)].totalMessages++,""==this.allChats.configPerPersoan[this.allNames.indexOf(a)].firstMessage&&(this.allChats.configPerPersoan[this.allNames.indexOf(a)].firstMessage=l)}this.creatAllNamesArray(),this.calculateMsgPerTime()},calculateMsgPerTime:function(){this.allChats.totalConfig.messagesPerTime={x:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],y:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]};for(let t=0;t<this.allNames.length;t++)this.allChats.configPerPersoan[t].messagesPerTime={x:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],y:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]};for(let t=0;t<this.allChats.allMessages.length;t++){const s=parseInt(this.allChats.allMessages[t].time.substring(0,2)),e=this.allNames.indexOf(this.allChats.allMessages[t].name);this.allChats.totalConfig.messagesPerTime.y[s]++,this.allChats.configPerPersoan[e].messagesPerTime.y[s]++}},toTimestamp:function(t,s,e,a,i,n){var l=new Date(Date.UTC(t,s-1,e,a,i,n));return l.getTime()/1e3},onResize:function({width:t,height:s}){console.log(t,s),console.log("Moin")},selectAllNames:function(){this.selectedNames.forEach((t=>{t.active=!0}))},unselectAllNames:function(){this.selectedNames.forEach((t=>{t.active=!1}))},unselectUnsavedContacts:function(){var t=/\d/;this.selectedNames.forEach((s=>{s.active=!t.test(s.name)}))},selectTopTen:function(){if(this.selectedNames.length<10)return;this.unselectAllNames();let t=0,s=-1;for(let e=0;e<10;e++)this.selectedNames.forEach(((e,a)=>{!e.active&&e.numberOfMessages>t&&(s=a,t=e.numberOfMessages)})),this.selectedNames[s].active=!0,t=0,s=-1},finishSelectNames:function(){this.showSelectedNames=!1,console.log(this.selectedNames)},selectName:function(t){this.selectedNames[t].active=!this.selectedNames[t].active}}},Zt=jt,Wt=(0,p.Z)(Zt,i,n,!1,null,null,null),Et=Wt.exports,$t=e(7841),Lt=(e(44),e(9417),e(5225));const zt=e(6480);a["default"].use($t.ZPm),a["default"].use(zt),a["default"].component("v-icon",Lt.Z),a["default"].config.productionTip=!1,new a["default"]({render:t=>t(Et)}).$mount("#app")}},s={};function e(a){var i=s[a];if(void 0!==i)return i.exports;var n=s[a]={exports:{}};return t[a].call(n.exports,n,n.exports,e),n.exports}e.m=t,function(){var t=[];e.O=function(s,a,i,n){if(!a){var l=1/0;for(c=0;c<t.length;c++){a=t[c][0],i=t[c][1],n=t[c][2];for(var h=!0,o=0;o<a.length;o++)(!1&n||l>=n)&&Object.keys(e.O).every((function(t){return e.O[t](a[o])}))?a.splice(o--,1):(h=!1,n<l&&(l=n));if(h){t.splice(c--,1);var r=i();void 0!==r&&(s=r)}}return s}n=n||0;for(var c=t.length;c>0&&t[c-1][2]>n;c--)t[c]=t[c-1];t[c]=[a,i,n]}}(),function(){e.n=function(t){var s=t&&t.__esModule?function(){return t["default"]}:function(){return t};return e.d(s,{a:s}),s}}(),function(){e.d=function(t,s){for(var a in s)e.o(s,a)&&!e.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:s[a]})}}(),function(){e.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){e.o=function(t,s){return Object.prototype.hasOwnProperty.call(t,s)}}(),function(){e.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){var t={143:0};e.O.j=function(s){return 0===t[s]};var s=function(s,a){var i,n,l=a[0],h=a[1],o=a[2],r=0;if(l.some((function(s){return 0!==t[s]}))){for(i in h)e.o(h,i)&&(e.m[i]=h[i]);if(o)var c=o(e)}for(s&&s(a);r<l.length;r++)n=l[r],e.o(t,n)&&t[n]&&t[n][0](),t[n]=0;return e.O(c)},a=self["webpackChunkchat_analyzer"]=self["webpackChunkchat_analyzer"]||[];a.forEach(s.bind(null,0)),a.push=s.bind(null,a.push.bind(a))}();var a=e.O(void 0,[998],(function(){return e(8298)}));a=e.O(a)})();
//# sourceMappingURL=app.5e355f19.js.map