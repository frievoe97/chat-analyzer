(function(){"use strict";var t={8298:function(t,s,a){a(6992),a(8674),a(9601),a(7727);var e=a(8935),i=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{attrs:{id:"app"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:this.showSelectedNames,expression:"this.showSelectedNames"}],staticClass:"blurred-background"}),a("div",{directives:[{name:"show",rawName:"v-show",value:this.showSelectedNames,expression:"this.showSelectedNames"}],staticClass:"select-names"},[a("h1",{staticClass:"select-names-header"},[t._v("Select the Names")]),a("div",{staticClass:"select-names-general-buttons"},[a("button",{staticClass:"select-names-general-button",on:{click:function(s){return t.selectAllNames()}}},[t._v(" Select All ")]),a("button",{staticClass:"select-names-general-button",on:{click:function(s){return t.unselectAllNames()}}},[t._v(" Unselect All ")]),a("button",{staticClass:"select-names-general-button",on:{click:function(s){return t.unselectUnsavedContacts()}}},[t._v(" Unselect not saved contacts ")]),a("button",{staticClass:"select-names-general-button",on:{click:function(s){return t.selectTopTen()}}},[t._v(" Select Top 10 ")])]),a("div",{staticClass:"select-names-list"},t._l(t.selectedNames,(function(s,e){return a("div",{key:e,staticClass:"select-names-line"},[a("input",{staticClass:"select-name-button",attrs:{type:"checkbox"},domProps:{checked:s.active},on:{click:function(s){return t.selectName(e)}}}),a("div",{staticClass:"select-names-name"},[t._v(" "+t._s(s.name)+" (Nachrichten: "+t._s(s.numberOfMessages)+") ")])])})),0),a("div",{staticClass:"select-names-bottom-buttons"},[a("button",{staticClass:"select-names-bottom-button",on:{click:function(s){return t.finishSelectNames()}}},[t._v(" Weiter ")])])]),a("div",{staticClass:"reselect-names"},[a("div",{staticClass:"reselect-names-top"},[a("button",{on:{click:function(s){t.showReselectNames=!t.showReselectNames}}},[t._v(" "+t._s(t.showReselectNames)+" ")]),a("v-icon",{attrs:{name:"arrow-down"}})],1),a("div",{directives:[{name:"show",rawName:"v-show",value:t.showReselectNames,expression:"showReselectNames"}],staticClass:"reselect-names-content"},t._l(t.selectedNames,(function(s,e){return a("div",{key:e,staticClass:"reselect-names-line"},[a("input",{staticClass:"reselect-name-button",attrs:{type:"checkbox"},domProps:{checked:s.active},on:{click:function(s){return t.selectName(e)}}}),a("div",{staticClass:"reselect-names-name"},[t._v(" "+t._s(s.name)+" (Nachrichten: "+t._s(s.numberOfMessages)+") ")])])})),0)]),a("div",{attrs:{id:"zone"}},[a("input",{staticClass:"inputfile",attrs:{type:"file",id:"input",name:"myfile"},on:{change:t.showfile}}),a("label",{attrs:{for:"file"}},[t._v("Choose a file")])]),a("div",{staticClass:"grid"},[a("div",{staticClass:"grid-element",attrs:{id:"grid-plot-1"}},[a("Plot1",{attrs:{data:t.allChats,globalWidth:t.widthPlot1,classIDProp:"plot-1"}})],1),a("div",{staticClass:"grid-element",attrs:{id:"grid-plot-2"}},[a("Plot2",{attrs:{data:t.allChats,globalWidth:t.widthPlot2,classIDProp:"plot-2"}})],1),a("div",{staticClass:"grid-element",attrs:{id:"grid-plot-6"}},[a("Plot6",{attrs:{data:t.allChats,globalWidth:t.widthPlot6,classIDProp:"plot-6"}})],1),a("div",[a("TestPlot",{attrs:{data:t.allChats}})],1)])])},n=[],l=a(5498),r=a(6198),h=(a(8975),a(4916),a(4723),a(3123),a(6699),a(2023),a(7042),a(3210),a(5306),a(9600),a(8309),a(1539),a(4747),a(7601),function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",[a("plotly",{staticClass:"plot",attrs:{data:t.dataTest,layout:t.layout,transition:t.transition}}),a("PlotButtons",{attrs:{buttons:t.buttonsNames}})],1)}),o=[],c=a(5419),d=a(2060),u=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"button-box",staticStyle:{height:"50px"}},t._l(t.buttons,(function(s){return a("button",{key:s,staticClass:"button"},[t._v(" "+t._s(s)+" ")])})),0)},g=[];e["default"].use(d.Z);var p={components:{},name:"PlotButtons",props:{buttons:Array},data:function(){return{}},mounted:function(){},methods:{}},m=p,D=a(1001),f=(0,D.Z)(m,u,g,!1,null,"8395d16a",null),v=f.exports;e["default"].use(d.Z);var x={name:"MsgOverTime",components:{Plotly:c.Plotly,PlotButtons:v},props:{msgData:Array,names:Array},data:function(){return{buttonsNames:["day","month","year"],dataTest:[{x:[],y:[],title:"abc",type:"bar"}],layout:{title:"Number of messages since start",yaxis:{autorange:!0,automargin:!0,mirror:!0},margin:0,padding:0,showlegend:!0,legend:{orientation:"h"},xaxis:{mirror:!0,rangeselector:{buttons:[{count:1,label:"1 month",step:"month",stepmode:"backward"},{count:6,label:"6 month",step:"month",stepmode:"backward"},{count:12,label:"12 month",step:"month",stepmode:"backward"},{step:"all"}]},rangeslider:{autorange:!0},type:"date"}},transition:{duration:500,easing:"cubic-in-out"},frame:{duration:500}}},mounted:function(){this.prepareData()},watch:{msgData:function(){this.prepareData()}},methods:{prepareData:function(){if(0!=this.msgData.length){this.dataTest=[];for(var t=0;t<this.names.length;t++){for(var s=this.names[t],a={x:[],y:[],type:"bar",legend:!0,name:s},e=0,i="",n="",l=0;l<this.msgData.length;l++)this.msgData[t].name==s&&(n=this.msgData[l].date,0==l&&(i=n),i===n?(e++,i=n):(a.x.push(i),a.y.push(e),e=0),i=n);this.dataTest.push(a)}console.log("prepare new Data");for(var r={x:[],y:[],type:"bar",legend:!0,name:"Gesamt"},h=0,o="",c="",d=0;d<this.msgData.length;d++)c=this.msgData[d].date,0==d&&(o=c),o===c?(h++,o=c):(r.x.push(o),r.y.push(h),h=0),o=c;this.dataTest.push(r),console.log(this.dataTest)}}}},b=x,y=(0,D.Z)(b,h,o,!1,null,"02ce13be",null),w=(y.exports,function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"test-plot"},[a("Plotly",{staticClass:"plot",attrs:{data:t.dataTest,layout:t.layout}}),a("PlotButtons",{attrs:{buttons:t.buttonsNames1}}),a("PlotButtons",{attrs:{buttons:t.buttonsNames2}})],1)}),O=[];e["default"].use(d.Z);var M={components:{Plotly:c.Plotly,PlotButtons:v},name:"MsgOverTime2",props:{msgData:Array,names:Array,config:Object},data:function(){return{showRelatice:!0,buttonsNames1:["hour","minute","second"],buttonsNames2:["absolute","relative"],dataTest:[],layout:{title:"Number of messages per hour",xaxis:{}}}},mounted:function(){this.prepareData()},watch:{msgData:function(){this.prepareData()},names:function(){this.prepareData()}},methods:{prepareData:function(){if(console.log(this.names,this.config),0!=this.msgData.length){this.dataTest=[];for(var t=0;t<this.names.length;t++){for(var s=this.names[t],a={x:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],y:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],name:s},e=0;e<this.msgData.length;e++)if(this.msgData[e].name==s)for(var i=0;i<a.x.length;i++)a.x[i]==this.msgData[e].time.substring(0,2)&&a.y[i]++;if(this.showRelatice)for(var n=0;n<a.y.length;n++)a.y[n]=100/this.config.names[t].totalMsg*a.y[n];this.dataTest.push(a)}for(var l={x:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],y:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],name:"Gesamt"},r=0;r<this.msgData.length;r++)for(var h=0;h<l.x.length;h++)l.x[h]==this.msgData[r].time.substring(0,2)&&l.y[h]++;if(this.showRelatice)for(var o=0;o<l.y.length;o++)l.y[o]=100/this.config.totalMsg*l.y[o];this.dataTest.push(l)}}}},N=M,C=(0,D.Z)(N,w,O,!1,null,"6911141e",null),P=(C.exports,function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"test-plot"},[a("Plotly",{staticClass:"plot",attrs:{data:t.dataTest,layout:t.layout}}),a("PlotButtons",{attrs:{buttons:t.buttonsNames}})],1)}),k=[];e["default"].use(d.Z);var A={components:{Plotly:c.Plotly,PlotButtons:v},name:"MsgOverTime3",props:{msgData:Array,names:Array},data:function(){return{buttonsNames:["absolute","relative"],dataTest:[],layout:{title:"Ratio of messages sent",xaxis:{}}}},mounted:function(){this.prepareData()},watch:{msgData:function(){this.prepareData()}},methods:{prepareData:function(){this.dataTest=[];for(var t={labels:[],values:[],title:"",type:"pie",legend:!0},s=0;s<this.names.length;s++)t.labels.push(this.names[s]),t.values.push(0);for(var a=0;a<this.msgData.length;a++){var e=this.msgData[a].name;t.values[this.names.indexOf(e)]++}this.dataTest.push(t)}}},S=A,I=(0,D.Z)(S,P,k,!1,null,"3c58144a",null),Y=(I.exports,function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"test-plot"},t._l(t.dataTest,(function(s){return a("div",{key:s.name},[a("h1",[t._v(t._s(s.name))]),a("p",[t._v("Number of messages: "+t._s(s.numberMsg))]),a("p",[t._v("Started conversations: "+t._s(s.startedConversation))]),a("p",[t._v("Finished conversations: "+t._s(s.endedConversation))]),a("p",[t._v("Average message length: "+t._s(s.msgLength))])])})),0)}),T=[];e["default"].use(d.Z);var _={components:{},name:"MsgOverTime4",props:{msgData:Array,names:Array},data:function(){return{timeBetweenConversations:86400,dataTest:[],layout:{title:"Plot 4",xaxis:{}}}},mounted:function(){this.prepareData()},watch:{msgData:function(){this.prepareData()}},methods:{prepareData:function(){this.dataTest=[];for(var t=[],s=0;s<this.names.length;s++){var a={};a.name=this.names[s],a.startedConversation=0,a.endedConversation=0,t.push(a)}for(var e=0;e<this.msgData.length;e++)e>0?this.msgData[e].timestamp>this.msgData[e-1].timestamp+this.timeBetweenConversations&&(t[this.names.indexOf(this.msgData[e].name)].startedConversation++,t[this.names.indexOf(this.msgData[e-1].name)].endedConversation++):t[this.names.indexOf(this.msgData[e].name)].startedConversation++;for(var i=0;i<this.names.length;i++){var n=this.names[i],l={};l.name=n,l.numberMsg=0,l.msgLength=0,l.startedConversation=t[i].startedConversation,l.endedConversation=t[i].endedConversation;for(var r=0;r<this.msgData.length;r++)this.msgData[r].name==n&&(l.numberMsg++,l.msgLength+=this.msgData[r].msg.length);l.msgLength=Math.round(l.msgLength/l.numberMsg),this.dataTest.push(l)}}}},j=_,Z=(0,D.Z)(j,Y,T,!1,null,"5634b325",null),W=(Z.exports,function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{attrs:{id:"my_dataviz"}})}),E=[],L=a(8084),z={name:"D3LineChart",components:{},props:{data:Object},data:function(){return{dataObj:[{date:"1-May-12",close:"68.13",open:"34.12"},{date:"30-Apr-12",close:"63.98",open:"45.56"},{date:"27-Apr-12",close:"67.00",open:"67.89"},{date:"26-Apr-12",close:"89.70",open:"78.54"},{date:"25-Apr-12",close:"99.00",open:"89.23"},{date:"24-Apr-12",close:"130.28",open:"99.23"}]}},mounted:function(){this.prepareData()},watch:{data:function(){this.prepareData()}},methods:{prepareData:function(){if(console.log(this.data),this.data.allMessages.length){this.dataObj=[];for(var t=0;t<this.data.totalConfig.messagesPerTime.x.length;t++)this.dataObj.push({time:this.data.totalConfig.messagesPerTime.x[t],number:this.data.totalConfig.messagesPerTime.y[t],name:"Gesamt"});for(var s=0;s<this.data.configPerPersoan.length;s++)for(var a=0;a<this.data.configPerPersoan[s].messagesPerTime.x.length;a++)this.dataObj.push({time:this.data.configPerPersoan[s].messagesPerTime.x[s],number:this.data.configPerPersoan[s].messagesPerTime.y[s],name:this.data.names[s]});this.init()}},init:function(){if(this.data.allMessages.length){console.log(this.dataObj);var t={top:20,right:20,bottom:30,left:50},s=960-t.left-t.right,a=500-t.top-t.bottom,e=(L.Z1g("%d-%b-%y"),L.BYU().range([0,s])),i=L.BYU().range([a,0]),n=L.jvg().x((function(t){return e(t.x)})).y((function(t){return i(t.number)})),l=L.Ys("#my_dataviz").append("svg").attr("width",s+t.left+t.right).attr("height",a+t.top+t.bottom).append("g").attr("transform","translate("+t.left+","+t.top+")");this.dataObj.forEach((function(t){t.x=+t.x,t.number=+t.number})),e.domain([0,23]),i.domain([0,L.Fp7(this.dataObj,(function(t){return Math.max(0,t.number)}))]),l.append("path").data([this.dataObj]).attr("class","line").style("stroke","blue").attr("d",n),l.append("g").attr("transform","translate(0,"+a+")").call(L.LLu(e)),l.append("g").call(L.y4O(i))}}}},R=z,q=(0,D.Z)(R,W,E,!1,null,null,null),B=(q.exports,function(){var t=this,s=t.$createElement;t._self._c;return t._m(0)}),$=[function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",[a("div",{attrs:{id:"my_dataviz"}})])}],X=(a(2222),{name:"D3LineChartv2",components:{},props:{data:Object},data:function(){return{plotData:[],starteDate:"",endDate:"",index:1,parseTime:L.Z1g("%Y-%m-%d"),allCurveObjects:[],curve:{},svg:{},xScale:{},yScale:{},width:0,height:0,margin:{}}},mounted:function(){this.prepareData2()},watch:{data:function(){this.prepareData2()}},methods:{changeIndex:function(){1==this.index?this.index=2:2==this.index?this.index=3:this.index=1,this.updateCurve()},updateCurve:function(){this.margin;var t=this.margin,s=this.margin,a=this.calculateMaxY(this.plotData[2][this.index]),e=this.parseTime;2==this.index?e=L.Z1g("%Y-%m"):1==this.index?e=L.Z1g("%Y-%m-%d"):3==this.index&&(e=L.Z1g("%Y")),2==this.index?(this.starteDate=this.plotData[2][2][0][0].substring(0,7),this.endDate=this.plotData[2][2][this.plotData[2][2].length-1][0].substring(0,7)):1==this.index?(this.starteDate=this.plotData[2][1][0][0].substring(0,10),this.endDate=this.plotData[2][1][this.plotData[2][1].length-1][0].substring(0,10)):3==this.index&&(this.starteDate=this.plotData[2][3][0][0].substring(0,4),this.endDate=this.plotData[2][3][this.plotData[2][3].length-1][0].substring(0,4)),console.log("Index: ",this.index," Startdatum: ",this.starteDate," Enddatum: ",this.endDate),this.xScale.domain([this.parseTime(this.starteDate),this.parseTime(this.endDate)]).range([0,t]),this.yScale.domain([0,a]).range([s,0]);var i=this.xScale,n=this.yScale;this.curve.datum(this.plotData[2][this.index]).transition().duration(1e3).attr("d",L.jvg().curve(L.qpX).x((function(t){return i(e(t[0]))})).y((function(t){return n(t[1])})))},prepareData2:function(){if(this.data.allMessages.length){this.plotData=[];var t=L.Z1g("%Y-%m-%d");2==this.index?this.parseTime=L.Z1g("%Y-%m"):1==this.index?this.parseTime=L.Z1g("%Y-%m-%d"):3==this.index&&(this.parseTime=L.Z1g("%Y"));for(var s=0;s<this.data.names.length;s++)this.plotData.push([[],[],[],[]]);this.plotData.push([[],[],[],[]]);for(var a=0;a<this.data.allMessages.length;a++){var e=this.data.allMessages[a].name,i=this.data.names.indexOf(e);this.plotData[i][0].push([this.data.allMessages[a].date]),this.plotData[this.data.names.length][0].push([this.data.allMessages[a].date])}for(var n=0;n<this.plotData.length;n++){for(var l=[],r="",h=0;h<this.plotData[n][0].length;h++)if(this.plotData[n][0][h][0]!=r)r=this.plotData[n][0][h][0],l.push([r,1]);else{r=this.plotData[n][0][h][0];var o=l[l.length-1][1];l[l.length-1]=[r,o+1]}this.plotData[n][0]=l}for(var c=0;c<this.plotData.length;c++){for(var d=this.plotData[c][0][0][0],u=this.plotData[c][0][this.plotData[c][0].length-1][0],g=[],p=0;p<this.plotData[c][0].length;p++)g.push(this.plotData[c][0][p][0]);for(var m=new Date(t(d));m<=new Date(t(u));m.setDate(m.getDate()+1)){var D=new Date(m).toISOString().split("T")[0];if(g.includes(D)){var f=g.indexOf(D);this.plotData[c][1].push([this.plotData[c][0][f][0],this.plotData[c][0][f][1]])}else this.plotData[c][1].push([D,0])}}for(var v=0;v<this.plotData.length;v++){for(var x=this.plotData[v][0][0][0],b=this.plotData[v][0][this.plotData[v][0].length-1][0],y=[],w=new Date(t(x));w<=new Date(t(b));w.setDate(w.getDate()+1)){var O=new Date(w).toISOString().substring(0,7);y.includes(O)||(y.push(O),this.plotData[v][2].push([O,0]))}for(var M=0;M<this.plotData[v][0].length;M+=12){var N=this.plotData[v][0][M][0].substring(0,7),C=this.plotData[v][0][M][1],P=y.indexOf(N);this.plotData[v][2][P][1]=this.plotData[v][2][P][1]+C}}for(var k=0;k<this.plotData.length;k++){for(var A=this.plotData[k][0][0][0],S=this.plotData[k][0][this.plotData[k][0].length-1][0],I=[],Y=new Date(t(A));Y<=new Date(t(S));Y.setDate(Y.getDate()+1)){var T=new Date(Y).toISOString().substring(0,4);I.includes(T)||(I.push(T),this.plotData[k][3].push([T,0]))}for(var _=0;_<this.plotData[k][0].length;_+=1){var j=this.plotData[k][0][_][0].substring(0,4),Z=this.plotData[k][0][_][1],W=I.indexOf(j);this.plotData[k][3][W][1]=this.plotData[k][3][W][1]+Z}}this.createPlot()}},createPlot:function(){var t=this.parseTime,s=this.calculateMaxY(this.plotData[2][this.index]);2==this.index?(this.starteDate=this.plotData[2][2][0][0].substring(0,7),this.endDate=this.plotData[2][2][this.plotData[2][2].length-1][0].substring(0,7)):1==this.index?(this.starteDate=this.plotData[2][1][0][0].substring(0,10),this.endDate=this.plotData[2][1][this.plotData[2][1].length-1][0].substring(0,10)):3==this.index&&(this.starteDate=this.plotData[2][3][0][0].substring(0,4),this.endDate=this.plotData[2][3][this.plotData[2][3].length-1][0].substring(0,4));var a={top:50,right:50,bottom:50,left:50},e=1060-a.left-a.right,i=400-a.top-a.bottom;this.width=e,this.height=i,this.margin=a,this.svg=L.Ys("#my_dataviz").append("svg").attr("width",e+a.left+a.right).attr("margin",40).attr("height",i+a.top+a.bottom).append("g").attr("transform","translate(".concat(a.left,",").concat(a.top,")"));var n=L.Xf().domain([this.parseTime(this.starteDate),this.parseTime(this.endDate)]).range([0,e]),l=L.BYU().domain([0,s]).range([i,0]);this.xScale=n,this.yScale=l;var r=this.svg.append("g").attr("transform","translate(0,0)");r.append("g").attr("transform","translate(0,"+i+")").call(L.LLu(n)),r.append("g").call(L.y4O(l)),this.curve=this.svg.append("g").append("path").attr("class","mypath").datum(this.plotData[2][this.index]).attr("d",L.jvg().curve(L.qpX).x((function(s){return n(t(s[0]))})).y((function(t){return l(t[1])}))).style("fill","none").style("stroke","#CC0000").style("stroke-width","2")},calculateMaxY:function(t){for(var s=0,a=0;a<t.length;a++)t[a][1]>s&&(s=t[a][1]);if(s<10)s=10;else if(s<100){var e=s%10;s=s-e+10}else if(s<500){var i=s%100;s=s-i+100}else if(s<1e3){var n=s%200;s=s-n+200}else if(s<1e4){var l=s%500;s=s-l+500}return s}}}),H=X,U=(0,D.Z)(H,B,$,!1,null,null,null),G=(U.exports,function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{attrs:{id:t.classID+"-container"}},[a("div",{attrs:{id:t.classID+"-title"}},[t._v(" Number Of Messages per "+t._s(this.indexName[this.index-1])+" ")]),a("div",{attrs:{id:t.classID}}),a("div",{staticClass:"buttons"},[a("div",{staticClass:"single-button",on:{click:function(s){return t.changeIndex2(3)}}},[t._v("Year")]),a("div",{staticClass:"single-button",on:{click:function(s){return t.changeIndex2(2)}}},[t._v("Month")]),a("div",{staticClass:"single-button",on:{click:function(s){return t.changeIndex2(1)}}},[t._v("Days")]),a("input",{attrs:{type:"date",id:"start",name:"trip-start",min:t.starteDate,max:t.endDate},domProps:{value:t.starteDate}}),a("input",{attrs:{type:"date",id:"end",name:"trip-end",min:t.starteDate,max:t.endDate},domProps:{value:t.endDate}})])])}),V=[],F=(a(9653),a(1249),a(9714),a(7427)),J={name:"Plot-1",components:{},props:{data:Object,globalWidth:Number,classIDProp:String},data:function(){return{plotData:[],starteDate:"",endDate:"",index:3,parseTime:L.Z1g("%Y-%m-%d"),allCurveObjects:[],curve:{},svg:{},xScale:{},yScale:{},x:{},y:{},xAxis:{},yAxis:{},focus:{},margin:{top:20,right:30,bottom:30,left:50},width:776,height:350,indexName:["Day","Month","Year"],classNames:[],classNamesDot:[],lineObjects:[],colors:["red","green","blue","black","brown","coral","darkblue","orange","darkorange","darkviolet","indigo","lightsalmon","midnightblue","red","green","blue","black","brown","coral","darkblue","orange","darkorange","darkviolet","indigo","lightsalmon","midnightblue","red","green","blue","black","brown","coral","darkblue","orange","darkorange","darkviolet","indigo","lightsalmon","midnightblue"],size:!0,classID:"plot-1"}},mounted:function(){var t=this;this.classNames=this.classNames.map((function(s){return t.classIDProp+"-"+s})),this.classID=this.classIDProp,window.addEventListener("resize",this.myEventHandler),this.getStartWidth(),this.createClassArrays(),this.prepareData2()},watch:{data:function(){this.createClassArrays(),this.prepareData2()},globalWidth:function(){this.switchSize()}},methods:{createClassArrays:function(){this.classNames=[],this.classNamesDot=[];for(var t=0;t<=this.data.names.length;t++){var s=(t+1).toString();this.classNames.push("line-"+s),this.classNamesDot.push(".line"+s)}},getStartWidth:function(){var t=(0,r.Z)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.width=document.querySelector("#grid-"+this.classID).clientWidth-(this.margin.left+this.margin.right);case 1:case"end":return t.stop()}}),t,this)})));function s(){return t.apply(this,arguments)}return s}(),myEventHandler:function(){var t=document.querySelector("#grid-"+this.classID).clientWidth-(this.margin.left+this.margin.right);this.width!=t&&(this.width=t)},changeIndex2:function(t){this.index=t,this.updateCurve()},switchSize:function(){this.globalWidth>0&&(this.width=this.globalWidth+100),this.changeSize()},changeSize:function(){L.Ys(".plot1svg").attr("width",this.width+this.margin.left+this.margin.right)},prepareData2:function(){if(this.data.allMessages.length){this.plotData=[];var t=L.Z1g("%Y-%m-%d");2==this.index?this.parseTime=L.Z1g("%Y-%m"):1==this.index?this.parseTime=L.Z1g("%Y-%m-%d"):3==this.index&&(this.parseTime=L.Z1g("%Y"));for(var s=0;s<this.data.names.length;s++)this.plotData.push([[],[],[],[],[]]);this.plotData.push([[],[],[],[],[]]);for(var a=0;a<this.data.allMessages.length;a++){var e=this.data.allMessages[a].name,i=this.data.names.indexOf(e);this.plotData[i][0].push([this.data.allMessages[a].date]),this.plotData[this.data.names.length][0].push([this.data.allMessages[a].date])}for(var n=0;n<this.plotData.length;n++){for(var l=[],r="",h=0;h<this.plotData[n][0].length;h++)if(this.plotData[n][0][h][0]!=r)r=this.plotData[n][0][h][0],l.push([r,1]);else{r=this.plotData[n][0][h][0];var o=l[l.length-1][1];l[l.length-1]=[r,o+1]}this.plotData[n][0]=l}for(var c=0;c<this.plotData.length;c++){for(var d=this.plotData[c][0][0][0],u=this.plotData[c][0][this.plotData[c][0].length-1][0],g=[],p=0;p<this.plotData[c][0].length;p++)g.push(this.plotData[c][0][p][0]);for(var m=new Date(t(d));m<=new Date(t(u));m.setDate(m.getDate()+1)){var D=new Date(m).toISOString().split("T")[0];if(g.includes(D)){var f=g.indexOf(D);this.plotData[c][1].push([this.plotData[c][0][f][0],this.plotData[c][0][f][1]])}else this.plotData[c][1].push([D,0])}}for(var v=0;v<this.plotData.length;v++){for(var x=this.plotData[v][0][0][0],b=this.plotData[v][0][this.plotData[v][0].length-1][0],y=[],w=[],O=[],M=new Date(t(x));M<=new Date(t(b));M.setDate(M.getDate()+1)){var N=new Date(M).toISOString().substring(0,7);y.includes(N)||(y.push(N),this.plotData[v][2].push([N,0]),w.push(N),O.push(0));var C=w.indexOf(N);O[C]++}for(var P=0;P<this.plotData[v][0].length;P+=1){var k=this.plotData[v][0][P][0].substring(0,7),A=this.plotData[v][0][P][1],S=y.indexOf(k);this.plotData[v][2][S][1]=this.plotData[v][2][S][1]+A}for(var I=0;I<this.plotData[v][2].length;I+=1){var Y=this.plotData[v][2][I][0],T=this.plotData[v][2][I][1],_=w.indexOf(Y),j=O[_];0!=T&&(this.plotData[v][2][I][1]=T/j)}}for(var Z=0;Z<this.plotData.length;Z++){for(var W=this.plotData[Z][0][0][0],E=this.plotData[Z][0][this.plotData[Z][0].length-1][0],z=[],R=[],q=[],B=new Date(t(W));B<=new Date(t(E));B.setDate(B.getDate()+1)){var $=new Date(B).toISOString().substring(0,4);z.includes($)||(z.push($),this.plotData[Z][3].push([$,0]),R.push($),q.push(0));var X=R.indexOf($);q[X]++}for(var H=0;H<this.plotData[Z][0].length;H+=1){var U=this.plotData[Z][0][H][0].substring(0,4),G=this.plotData[Z][0][H][1],V=z.indexOf(U);this.plotData[Z][3][V][1]=this.plotData[Z][3][V][1]+G}for(var F=0;F<this.plotData[Z][3].length;F+=1){var J=this.plotData[Z][3][F][0],K=this.plotData[Z][3][F][1],Q=R.indexOf(J),tt=q[Q];0!=K&&(this.plotData[Z][3][F][1]=K/tt)}}for(var st=0;st<this.plotData.length;st++)for(var at=0;at<this.plotData[st][3].length;at++)this.plotData[st][4].push([this.plotData[st][3][at][0],this.plotData[st][3][at][1]*(2.5*Math.random()+.5)]);console.log(this.plotData),this.createPlot()}},createPlot:function(){2==this.index?(this.starteDate=this.plotData[2][2][0][0].substring(0,7),this.endDate=this.plotData[2][2][this.plotData[2][2].length-1][0].substring(0,7)):1==this.index?(this.starteDate=this.plotData[2][1][0][0].substring(0,10),this.endDate=this.plotData[2][1][this.plotData[2][1].length-1][0].substring(0,10)):3==this.index&&(this.starteDate=this.plotData[2][3][0][0].substring(0,4),this.endDate=this.plotData[2][3][this.plotData[2][3].length-1][0].substring(0,4)),L.Ys("#"+this.classID+"-svg").remove();var t=L.Ys("#"+this.classID).append("svg").attr("id",this.classID+"-svg").attr("width",this.width+this.margin.left+this.margin.right).attr("height",this.height+this.margin.top+this.margin.bottom).append("g").attr("transform","translate(".concat(this.margin.left,",").concat(this.margin.top,")")),s=L.Xf().range([0,this.width]),a=L.LLu().scale(s);t.append("g").attr("transform","translate(0, ".concat(this.height,")")).attr("id",this.classID+"-x-axis");var e=L.BYU().range([this.height,0]),i=L.y4O().scale(e);t.append("g").attr("id",this.classID+"-y-axis"),t.append("text").attr("id",this.classID+"-y-label").attr("text-anchor","end").attr("y","-35px").attr("transform","rotate(-90)").text("average messages per "+this.indexName[this.index-1]),this.x=s,this.y=e,this.xAxis=a,this.yAxis=i,this.svg=t,this.focus=focus,this.setInitalLine()},setInitalLine:function(){for(var t=0,s=0;s<=this.data.names.length;s++)t=this.calculateMaxY(this.plotData[s][this.index])>t?this.calculateMaxY(this.plotData[s][this.index]):t;var a=this.parseTime;2==this.index?a=L.Z1g("%Y-%m"):1==this.index?a=L.Z1g("%Y-%m-%d"):3==this.index&&(a=L.Z1g("%Y")),2==this.index?(this.starteDate=this.plotData[2][2][0][0].substring(0,7),this.endDate=this.plotData[2][2][this.plotData[2][2].length-1][0].substring(0,7)):1==this.index?(this.starteDate=this.plotData[2][1][0][0].substring(0,10),this.endDate=this.plotData[2][1][this.plotData[2][1].length-1][0].substring(0,10)):3==this.index&&(this.starteDate=this.plotData[2][3][0][0].substring(0,4),this.endDate=this.plotData[2][3][this.plotData[2][3].length-1][0].substring(0,4)),this.x.domain([a(this.starteDate),a(this.endDate)]),this.svg.selectAll("#"+this.classID+"-x-axis").call(this.xAxis),this.y.domain([0,t]).nice(),this.svg.select("#"+this.classID+"-y-axis").call(this.yAxis),this.svg.select("#"+this.classID+"-y-label").text("Average Messages Per "+this.indexName[this.index-1]);var e=this.x,i=(this.y,this.height),n=L.jvg().curve(L.qpX).x((function(t){return e(a(t[0]))})).y((function(t){return i}));this.lineObjects=[];for(var l=0;l<this.classNames.length;l++)this.lineObjects.push(this.svg.selectAll("."+this.classNames[l]).data([this.plotData[l][this.index]],(function(t){return a(t[0])})));for(var r=0;r<this.lineObjects.length;r++)this.lineObjects[r].join("path").attr("class",this.classNames[r]).merge(this.lineObjects[r]).attr("d",(function(t){return n(t)})).style("fill","none").style("stroke",this.colors[r]).style("stroke-width","2");this.updateCurve()},updateCurve:function(){for(var t=this,s=0,a=0;a<=this.data.names.length;a++)s=this.calculateMaxY(this.plotData[a][this.index])>s?this.calculateMaxY(this.plotData[a][this.index]):s;var e=this.parseTime;2==this.index?e=L.Z1g("%Y-%m"):1==this.index?e=L.Z1g("%Y-%m-%d"):3==this.index&&(e=L.Z1g("%Y")),2==this.index?(this.starteDate=this.plotData[2][2][0][0].substring(0,7),this.endDate=this.plotData[2][2][this.plotData[2][2].length-1][0].substring(0,7)):1==this.index?(this.starteDate=this.plotData[2][1][0][0].substring(0,10),this.endDate=this.plotData[2][1][this.plotData[2][1].length-1][0].substring(0,10)):3==this.index&&(this.starteDate=this.plotData[2][3][0][0].substring(0,4),this.endDate=this.plotData[2][3][this.plotData[2][3].length-1][0].substring(0,4)),this.x.domain([e(this.starteDate),e(this.endDate)]),this.svg.selectAll("#"+this.classID+"-x-axis").transition().duration(1e3).call(this.xAxis),this.y.domain([0,s]).nice(),this.svg.select("#"+this.classID+"-y-axis").transition().duration(1e3).call(this.yAxis),this.svg.select("#"+this.classID+"-y-label").transition().duration(1e3).text("Average Messages Per Day");var i=this.x,n=this.y,l=L.jvg().curve(L.qpX).x((function(t){return i(e(t[0]))})).y((function(t){return n(t[1])}));this.lineObjects=[];for(var r=0;r<this.classNames.length;r++)this.lineObjects.push(this.svg.selectAll("."+this.classNames[r]).data([this.plotData[r][this.index]],(function(t){return e(t[0])})));for(var h=this.classNames,o=function(s){t.lineObjects[s].join("path").attr("class",t.classNames[s]).merge(t.lineObjects[s]).transition().duration(1e3).attrTween("d",(function(t){var a=L.Ys("."+h[s]).attr("d"),e=l(t);return(0,F.sk)(a,e)})).style("fill","none").style("stroke",t.colors[s]).style("stroke-width","2")},c=0;c<this.lineObjects.length;c++)o(c)},calculateMaxY:function(t){for(var s=0,a=0;a<t.length;a++)t[a][1]>s&&(s=t[a][1]);if(s<3)s=3;else if(s<5)s=5;else if(s<10)s=10;else if(s<100){var e=s%10;s=s-e+10}else if(s<500){var i=s%100;s=s-i+100}else if(s<1e3){var n=s%200;s=s-n+200}else if(s<1e4){var l=s%500;s=s-l+500}return s},focusMouseOver:function(){},focusMouseMove:function(){},focusMouseOut:function(){}}},K=J,Q=(0,D.Z)(K,G,V,!1,null,null,null),tt=Q.exports,st=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{attrs:{id:t.classID+"-container"}},[a("div",{attrs:{id:t.classID+"-title"}},[t._v("Number Of Messages Per Hour")]),a("div",{attrs:{id:t.classID}}),a("div",{staticClass:"buttons"},[a("div",{staticClass:"single-button",on:{click:function(s){return t.changeIndex2(5)}}},[t._v("Hour")]),a("div",{staticClass:"single-button",on:{click:function(s){return t.changeIndex2(6)}}},[t._v("Minute")]),a("div",{staticClass:"single-button",on:{click:function(s){return t.changeIndex2(7)}}},[t._v("Weekday")]),a("div",{staticClass:"single-button",on:{click:function(s){return t.changeIndex2(8)}}},[t._v("Month")])])])},at=[],et={name:"Plot-2",components:{},props:{data:Object,globalWidth:Number,classIDProp:String},data:function(){return{plotData:[],starteDate:"",endDate:"",index:5,parseTime:L.Z1g("%Y-%m-%d"),allCurveObjects:[],curve:{},svg:{},xScale:{},yScale:{},x:{},y:{},xAxis:{},yAxis:{},focus:{},margin:{top:20,right:30,bottom:30,left:50},width:776,height:350,indexName:["Day","Month","Year"],classNames:[],classNamesDot:[],lineObjects:[],colors:["red","green","blue","black","brown","coral","darkblue","orange","darkorange","darkviolet","indigo","lightsalmon","midnightblue","red","green","blue","black","brown","coral","darkblue","orange","darkorange","darkviolet","indigo","lightsalmon","midnightblue","red","green","blue","black","brown","coral","darkblue","orange","darkorange","darkviolet","indigo","lightsalmon","midnightblue"],size:!0,classID:"plot-1"}},mounted:function(){var t=this;this.classNames=this.classNames.map((function(s){return t.classIDProp+"-"+s})),this.classID=this.classIDProp,window.addEventListener("resize",this.myEventHandler),this.getStartWidth(),this.createClassArrays(),this.prepareData2()},watch:{data:function(){this.createClassArrays(),this.prepareData2()},globalWidth:function(){this.switchSize()}},methods:{createClassArrays:function(){var t=(0,r.Z)(regeneratorRuntime.mark((function t(){var s,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:for(this.classNames=[],this.classNamesDot=[],s=0;s<this.data.names.length;s++)a=(s+1).toString(),this.classNames.push("line-"+a),this.classNamesDot.push(".line"+a);case 3:case"end":return t.stop()}}),t,this)})));function s(){return t.apply(this,arguments)}return s}(),getStartWidth:function(){var t=(0,r.Z)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.width=document.querySelector("#grid-"+this.classID).clientWidth-(this.margin.left+this.margin.right);case 1:case"end":return t.stop()}}),t,this)})));function s(){return t.apply(this,arguments)}return s}(),myEventHandler:function(){var t=document.querySelector("#grid-"+this.classID).clientWidth-(this.margin.left+this.margin.right);this.width!=t&&(this.width=t)},changeIndex2:function(t){this.index=t,this.updateCurve()},switchSize:function(){this.globalWidth>0&&(this.width=this.globalWidth+100),this.changeSize()},changeSize:function(){L.Ys(".plot1svg").attr("width",this.width+this.margin.left+this.margin.right)},prepareData2:function(){if(this.data.allMessages.length){this.plotData=[];L.Z1g("%H");2==this.index||1==this.index||3==this.index?this.parseTime=L.Z1g("%M"):5==this.index?this.parseTime=L.Z1g("%H"):6==this.index?this.parseTime=L.Z1g("%H%M"):7==this.index&&(this.parseTime=L.Z1g("%b %d"));for(var t=0;t<this.data.names.length;t++)this.plotData.push([[],[],[],[],[],[],[],[]]);this.plotData.push([[],[],[],[],[],[],[],[]]);for(var s=0;s<this.data.allMessages.length;s++){var a=this.data.allMessages[s].name,e=this.data.names.indexOf(a);this.plotData[e][0].push([this.data.allMessages[s].date]),this.plotData[this.data.names.length][0].push([this.data.allMessages[s].date])}for(var i=0;i<this.plotData.length;i++)for(var n=0;n<this.plotData[i][3].length;n++)this.plotData[i][4].push([this.plotData[i][3][n][0],this.plotData[i][3][n][1]*(2.5*Math.random()+.5)]);for(var l=0;l<this.plotData.length;l++)for(var r=0;r<24;r++){var h=r.toString();h=2==h.length?h:"0"+h,this.plotData[l][5].push([h,0])}for(var o=0;o<this.plotData.length;o++)for(var c=0;c<24;c++)for(var d=0;d<60;d++){var u=c.toString();u=2==u.length?u:"0"+u;var g=d.toString();g=2==g.length?g:"0"+g,this.plotData[o][6].push([u+g,0])}for(var p=0;p<this.data.allMessages.length;p++){var m=this.data.allMessages[p].name,D=this.data.names.indexOf(m),f=this.data.allMessages[p].time.slice(0,2),v=this.data.allMessages[p].time.slice(3,5),x=60*+f+ +v;this.plotData[D][5][+f][1]++,this.plotData[D][6][x][1]++}for(var b=0;b<this.plotData.length;b++){for(var y=0,w=0;w<this.plotData[b][5].length;w++)y+=this.plotData[b][5][w][1];if(0!=y)for(var O=0;O<this.plotData[b][5].length;O++)this.plotData[b][5][O][1]=this.plotData[b][5][O][1]/y*100}for(var M=0;M<this.plotData.length;M++)for(var N=0;N<7;N++)this.plotData[M][7].push([N,0]);for(var C=0;C<this.data.allMessages.length;C++){var P=this.data.allMessages[C].name,k=this.data.names.indexOf(P),A=this.data.allMessages[C].weekday;this.plotData[k][7][A][1]++}for(var S=0;S<this.data.names.length;S++)for(var I=0;I<7;I++)this.plotData[S][7][I][1]="2022-08-0"+this.plotData[S][7][I][1];this.createPlot()}},createPlot:function(){2==this.index?(this.starteDate=this.plotData[2][2][0][0].substring(0,7),this.endDate=this.plotData[2][2][this.plotData[2][2].length-1][0].substring(0,7)):1==this.index?(this.starteDate=this.plotData[2][1][0][0].substring(0,10),this.endDate=this.plotData[2][1][this.plotData[2][1].length-1][0].substring(0,10)):3==this.index?(this.starteDate=this.plotData[2][3][0][0].substring(0,4),this.endDate=this.plotData[2][3][this.plotData[2][3].length-1][0].substring(0,4)):5==this.index&&(this.starteDate=this.plotData[2][5][0][0].substring(0,4),this.endDate=this.plotData[2][5][this.plotData[2][5].length-1][0].substring(0,4)),L.Ys("#"+this.classID+"-svg").remove();var t=L.Ys("#"+this.classID).append("svg").attr("id",this.classID+"-svg").attr("width",this.width+this.margin.left+this.margin.right).attr("height",this.height+this.margin.top+this.margin.bottom).append("g").attr("transform","translate(".concat(this.margin.left,",").concat(this.margin.top,")")),s=L.Xf().range([0,this.width]).nice(),a=L.LLu().scale(s).tickFormat(L.i$Z("%a"));t.append("g").attr("transform","translate(0, ".concat(this.height,")")).attr("id",this.classID+"-x-axis");var e=L.BYU().range([this.height,0]),i=L.y4O().scale(e);t.append("g").attr("id",this.classID+"-y-axis"),t.append("text").attr("id",this.classID+"-y-label").attr("text-anchor","end").attr("y","-35px").attr("transform","rotate(-90)").text("average messages per "+this.indexName[this.index-1]);t.append("rect").attr("fill","none").attr("pointer-events","all").attr("class","zoom").attr("width",this.width).attr("height",this.height).on("mouseover",this.focusMouseOver()).on("mousemove",this.focusMouseMove()).on("mouseout",this.focusMouseOut());this.x=s,this.y=e,this.xAxis=a,this.yAxis=i,this.svg=t,this.focus=focus,this.setInitalLine()},setInitalLine:function(){for(var t=this.calculateMaxY(this.plotData[0][this.index]),s=0;s<this.data.names.length;s++)t=this.calculateMaxY(this.plotData[s][this.index])>t?this.calculateMaxY(this.plotData[s][this.index]):t;var a=this.parseTime;2==this.index||1==this.index||3==this.index||5==this.index?a=L.Z1g("%H"):6==this.index?a=L.Z1g("%H%M"):7==this.index&&(this.parseTime=L.Z1g("%Y-%m-%d"));var e=0;2==this.index?(this.starteDate=this.plotData[2][2][0][0].substring(0,7),this.endDate=this.plotData[2][2][this.plotData[2][2].length-1][0].substring(0,7)):1==this.index?(this.starteDate=this.plotData[2][1][0][0].substring(0,10),this.endDate=this.plotData[2][1][this.plotData[2][1].length-1][0].substring(0,10)):3==this.index?(this.starteDate=this.plotData[2][3][0][0].substring(0,4),this.endDate=this.plotData[2][3][this.plotData[2][3].length-1][0].substring(0,4)):5==this.index?(this.starteDate=(0+e).toString(),this.endDate=(23+e).toString(),this.starteDate="00",this.endDate="24"):6==this.index?(this.starteDate="0000",this.endDate="2359"):7==this.index&&(this.starteDate="2022-08-01",this.endDate="2022-08-07"),this.x.domain([a(this.starteDate),a(this.endDate)]),this.svg.selectAll("#"+this.classID+"-x-axis").call(this.xAxis),this.y.domain([0,t]).nice(),this.svg.select("#"+this.classID+"-y-axis").call(this.yAxis),this.svg.select("#"+this.classID+"-y-label").text("Average Messages Per "+this.indexName[this.index-1]);var i=this.x,n=(this.y,this.height),l=L.jvg().curve(L.qpX).x((function(t){return i(a(t[0]))})).y((function(t){return n}));this.lineObjects=[];for(var r=0;r<this.classNames.length;r++)this.lineObjects.push(this.svg.selectAll("."+this.classNames[r]).data([this.plotData[r][this.index]],(function(t){return a(t[0])})));for(var h=0;h<this.lineObjects.length;h++)this.lineObjects[h].join("path").attr("class",this.classNames[h]).merge(this.lineObjects[h]).attr("d",(function(t){return l(t)})).style("fill","none").style("stroke",this.colors[h]).style("stroke-width","2");this.updateCurve()},updateCurve:function(){for(var t=this,s=this.calculateMaxY(this.plotData[0][this.index]),a=0;a<this.data.names.length;a++)s=this.calculateMaxY(this.plotData[a][this.index])>s?this.calculateMaxY(this.plotData[a][this.index]):s;console.log(this.plotData),console.log(this.index);var e=this.parseTime;2==this.index?e=L.Z1g("%Y-%m"):1==this.index?e=L.Z1g("%Y-%m-%d"):3==this.index?e=L.Z1g("%Y"):5==this.index||6==this.index?e=L.Z1g("%H"):7==this.index?e=L.Z1g("%Y-%m-%d"):8==this.index&&(e=L.Z1g("%H")),2==this.index?(this.starteDate=this.plotData[2][2][0][0].substring(0,7),this.endDate=this.plotData[2][2][this.plotData[2][2].length-1][0].substring(0,7)):1==this.index?(this.starteDate=this.plotData[2][1][0][0].substring(0,10),this.endDate=this.plotData[2][1][this.plotData[2][1].length-1][0].substring(0,10)):3==this.index?(this.starteDate=this.plotData[2][3][0][0].substring(0,4),this.endDate=this.plotData[2][3][this.plotData[2][3].length-1][0].substring(0,4)):7==this.index?(this.starteDate="2022-08-01",this.endDate="2022-08-07"):(this.starteDate=0,this.endDate=23),this.x.domain([e(this.starteDate),e(this.endDate)]),this.svg.selectAll("#"+this.classID+"-x-axis").transition().duration(1e3).call(this.xAxis),this.y.domain([0,s]).nice(),this.svg.select("#"+this.classID+"-y-axis").transition().duration(1e3).call(this.yAxis),this.svg.select("#"+this.classID+"-y-label").transition().duration(1e3).text("Average Messages Per Day");var i=this.x,n=this.y,l=L.jvg().curve(L.qpX).x((function(t){return i(e(t[0]))})).y((function(t){return n(t[1])}));if(this.lineObjects=[],7==this.index)for(var r=0;r<this.classNames.length;r++)this.lineObjects.push(this.svg.selectAll("."+this.classNames[r]).data([this.plotData[r][this.index]],(function(t){return e("2022-08-0"+t[0]+1)})));else for(var h=0;h<this.classNames.length;h++)this.lineObjects.push(this.svg.selectAll("."+this.classNames[h]).data([this.plotData[h][this.index]],(function(t){return e(t[0])})));for(var o=this.classNames,c=function(s){t.lineObjects[s].join("path").attr("class",t.classNames[s]).merge(t.lineObjects[s]).transition().duration(1e3).attrTween("d",(function(t){var a=L.Ys("."+o[s]).attr("d"),e=l(t);return(0,F.sk)(a,e)})).style("fill","none").style("stroke",t.colors[s]).style("stroke-width","2")},d=0;d<this.lineObjects.length;d++)c(d)},calculateMaxY:function(t){for(var s=0,a=0;a<t.length;a++)t[a][1]>s&&(s=t[a][1]);if(s<10)s=10;else if(s<100){var e=s%10;s=s-e+10}else if(s<500){var i=s%100;s=s-i+100}else if(s<1e3){var n=s%200;s=s-n+200}else if(s<1e4){var l=s%500;s=s-l+500}return s},focusMouseOver:function(){},focusMouseMove:function(){},focusMouseOut:function(){}}},it=et,nt=(0,D.Z)(it,st,at,!1,null,null,null),lt=nt.exports,rt=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{attrs:{id:t.classID+"-container"}},[a("div",{attrs:{id:t.classID+"-title"}},[t._v(" Number Of Messages per "+t._s(this.indexName[this.index-1])+" ")]),a("div",{attrs:{id:t.classID}}),a("div",{staticClass:"buttons"},[a("div",{staticClass:"single-button",on:{click:function(s){return t.changeIndex2(3)}}},[t._v("Year")]),a("div",{staticClass:"single-button",on:{click:function(s){return t.changeIndex2(2)}}},[t._v("Month")]),a("div",{staticClass:"single-button",on:{click:function(s){return t.changeIndex2(1)}}},[t._v("Days")]),a("input",{attrs:{type:"date",id:"start",name:"trip-start",min:t.starteDate,max:t.endDate},domProps:{value:t.starteDate}}),a("input",{attrs:{type:"date",id:"end",name:"trip-end",min:t.starteDate,max:t.endDate},domProps:{value:t.endDate}}),a("date-picker",{attrs:{"default-value":"2020-01-01",valueType:"format"},model:{value:t.testdate,callback:function(s){t.testdate=s},expression:"testdate"}}),a("date-picker",{attrs:{type:"datetime"},model:{value:t.testdate,callback:function(s){t.testdate=s},expression:"testdate"}}),a("date-picker",{attrs:{range:""},model:{value:t.testdate,callback:function(s){t.testdate=s},expression:"testdate"}})],1)])},ht=[],ot=a(1387),ct={name:"Plot-6",components:{DatePicker:ot.Z},props:{data:Object,globalWidth:Number,classIDProp:String},data:function(){return{plotData:[],starteDate:"",endDate:"",testdate:new Date(2019,11,8),index:3,parseTime:L.Z1g("%Y-%m-%d"),allCurveObjects:[],curve:{},svg:{},xScale:{},yScale:{},x:{},y:{},xAxis:{},yAxis:{},focus:{},margin:{top:20,right:30,bottom:30,left:50},width:776,height:350,indexName:["Minute","Hour","Year","Day","Month"],classNames:[],classNamesDot:[],lineObjects:[],colors:["red","green","blue","black","brown","coral","darkblue","orange","darkorange","darkviolet","indigo","lightsalmon","midnightblue","red","green","blue","black","brown","coral","darkblue","orange","darkorange","darkviolet","indigo","lightsalmon","midnightblue","red","green","blue","black","brown","coral","darkblue","orange","darkorange","darkviolet","indigo","lightsalmon","midnightblue"],size:!0,classID:"plot-6"}},mounted:function(){var t=this;this.classNames=this.classNames.map((function(s){return t.classIDProp+"-"+s})),this.classID=this.classIDProp,window.addEventListener("resize",this.myEventHandler),this.getStartWidth(),this.createClassArrays(),this.prepareData2()},watch:{data:function(){this.createClassArrays(),this.prepareData2()},globalWidth:function(){this.switchSize()}},methods:{createClassArrays:function(){this.classNames=[],this.classNamesDot=[];for(var t=0;t<=this.data.names.length;t++){var s=(t+1).toString();this.classNames.push("line-"+s),this.classNamesDot.push(".line"+s)}},getStartWidth:function(){var t=(0,r.Z)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.width=document.querySelector("#grid-"+this.classID).clientWidth-(this.margin.left+this.margin.right);case 1:case"end":return t.stop()}}),t,this)})));function s(){return t.apply(this,arguments)}return s}(),myEventHandler:function(){var t=document.querySelector("#grid-"+this.classID).clientWidth-(this.margin.left+this.margin.right);this.width!=t&&(this.width=t)},changeIndex2:function(t){this.index=t,this.updateCurve()},switchSize:function(){this.globalWidth>0&&(this.width=this.globalWidth+100),this.changeSize()},changeSize:function(){L.Ys(".plot1svg").attr("width",this.width+this.margin.left+this.margin.right)},prepareData2:function(){if(this.data.allMessages.length){this.plotData=[],console.log(this.data.allMessages);var t=L.Z1g("%Y-%m-%d");2==this.index?this.parseTime=L.Z1g("%Y-%m"):1==this.index?this.parseTime=L.Z1g("%Y-%m-%d"):(3==this.index||3==this.index||4==this.index||5==this.index||6==this.index||7==this.index||8==this.index)&&(this.parseTime=L.Z1g("%Y"));for(var s=0;s<this.data.names.length;s++)this.plotData.push([[],[],[],[],[]]);this.plotData.push([[],[],[],[],[]]);for(var a=0;a<this.data.allMessages.length;a++){var e=this.data.allMessages[a].name,i=this.data.names.indexOf(e);this.plotData[i][0].push([this.data.allMessages[a].date]),this.plotData[this.data.names.length][0].push([this.data.allMessages[a].date])}for(var n=0;n<this.plotData.length;n++){for(var l=[],r="",h=0;h<this.plotData[n][0].length;h++)if(this.plotData[n][0][h][0]!=r)r=this.plotData[n][0][h][0],l.push([r,1]);else{r=this.plotData[n][0][h][0];var o=l[l.length-1][1];l[l.length-1]=[r,o+1]}this.plotData[n][0]=l}for(var c=0;c<this.plotData.length;c++){for(var d=this.plotData[c][0][0][0],u=this.plotData[c][0][this.plotData[c][0].length-1][0],g=[],p=0;p<this.plotData[c][0].length;p++)g.push(this.plotData[c][0][p][0]);for(var m=new Date(t(d));m<=new Date(t(u));m.setDate(m.getDate()+1)){var D=new Date(m).toISOString().split("T")[0];if(g.includes(D)){var f=g.indexOf(D);this.plotData[c][1].push([this.plotData[c][0][f][0],this.plotData[c][0][f][1]])}else this.plotData[c][1].push([D,0])}}for(var v=0;v<this.plotData.length;v++){for(var x=this.plotData[v][0][0][0],b=this.plotData[v][0][this.plotData[v][0].length-1][0],y=[],w=[],O=[],M=new Date(t(x));M<=new Date(t(b));M.setDate(M.getDate()+1)){var N=new Date(M).toISOString().substring(0,7);y.includes(N)||(y.push(N),this.plotData[v][2].push([N,0]),w.push(N),O.push(0));var C=w.indexOf(N);O[C]++}for(var P=0;P<this.plotData[v][0].length;P+=1){var k=this.plotData[v][0][P][0].substring(0,7),A=this.plotData[v][0][P][1],S=y.indexOf(k);this.plotData[v][2][S][1]=this.plotData[v][2][S][1]+A}for(var I=0;I<this.plotData[v][2].length;I+=1){var Y=this.plotData[v][2][I][0],T=this.plotData[v][2][I][1],_=w.indexOf(Y),j=O[_];0!=T&&(this.plotData[v][2][I][1]=T/j)}}for(var Z=0;Z<this.plotData.length;Z++){for(var W=this.plotData[Z][0][0][0],E=this.plotData[Z][0][this.plotData[Z][0].length-1][0],z=[],R=[],q=[],B=new Date(t(W));B<=new Date(t(E));B.setDate(B.getDate()+1)){var $=new Date(B).toISOString().substring(0,4);z.includes($)||(z.push($),this.plotData[Z][3].push([$,0]),R.push($),q.push(0));var X=R.indexOf($);q[X]++}for(var H=0;H<this.plotData[Z][0].length;H+=1){var U=this.plotData[Z][0][H][0].substring(0,4),G=this.plotData[Z][0][H][1],V=z.indexOf(U);this.plotData[Z][3][V][1]=this.plotData[Z][3][V][1]+G}for(var F=0;F<this.plotData[Z][3].length;F+=1){var J=this.plotData[Z][3][F][0],K=this.plotData[Z][3][F][1],Q=R.indexOf(J),tt=q[Q];0!=K&&(this.plotData[Z][3][F][1]=K/tt)}}for(var st=0;st<this.plotData.length;st++)for(var at=0;at<this.plotData[st][3].length;at++)this.plotData[st][4].push([this.plotData[st][3][at][0],this.plotData[st][3][at][1]*(2.5*Math.random()+.5)]);console.log(this.plotData),this.createPlot()}},createPlot:function(){2==this.index?(this.starteDate=this.plotData[2][2][0][0].substring(0,7),this.endDate=this.plotData[2][2][this.plotData[2][2].length-1][0].substring(0,7)):1==this.index?(this.starteDate=this.plotData[2][1][0][0].substring(0,10),this.endDate=this.plotData[2][1][this.plotData[2][1].length-1][0].substring(0,10)):(3==this.index||4==this.index||5==this.index||6==this.index||7==this.index||8==this.index)&&(this.starteDate=this.plotData[2][3][0][0].substring(0,4),this.endDate=this.plotData[2][3][this.plotData[2][3].length-1][0].substring(0,4)),L.Ys("#"+this.classID+"-svg").remove();var t=L.Ys("#"+this.classID).append("svg").attr("id",this.classID+"-svg").attr("width",this.width+this.margin.left+this.margin.right).attr("height",this.height+this.margin.top+this.margin.bottom).append("g").attr("transform","translate(".concat(this.margin.left,",").concat(this.margin.top,")")),s=L.Xf().range([0,this.width]),a=L.LLu().scale(s);t.append("g").attr("transform","translate(0, ".concat(this.height,")")).attr("id",this.classID+"-x-axis");var e=L.BYU().range([this.height,0]),i=L.y4O().scale(e);t.append("g").attr("id",this.classID+"-y-axis"),t.append("text").attr("id",this.classID+"-y-label").attr("text-anchor","end").attr("y","-35px").attr("transform","rotate(-90)").text("average messages per "+this.indexName[this.index-1]),this.x=s,this.y=e,this.xAxis=a,this.yAxis=i,this.svg=t,this.focus=focus,this.setInitalLine()},setInitalLine:function(){for(var t=0,s=0;s<=this.data.names.length;s++)t=this.calculateMaxY(this.plotData[s][this.index])>t?this.calculateMaxY(this.plotData[s][this.index]):t;var a=this.parseTime;2==this.index?a=L.Z1g("%Y-%m"):1==this.index?a=L.Z1g("%Y-%m-%d"):3==this.index&&(a=L.Z1g("%Y")),2==this.index?(this.starteDate=this.plotData[2][2][0][0].substring(0,7),this.endDate=this.plotData[2][2][this.plotData[2][2].length-1][0].substring(0,7)):1==this.index?(this.starteDate=this.plotData[2][1][0][0].substring(0,10),this.endDate=this.plotData[2][1][this.plotData[2][1].length-1][0].substring(0,10)):3==this.index&&(this.starteDate=this.plotData[2][3][0][0].substring(0,4),this.endDate=this.plotData[2][3][this.plotData[2][3].length-1][0].substring(0,4)),this.x.domain([a(this.starteDate),a(this.endDate)]),this.svg.selectAll("#"+this.classID+"-x-axis").call(this.xAxis),this.y.domain([0,t]).nice(),this.svg.select("#"+this.classID+"-y-axis").call(this.yAxis),this.svg.select("#"+this.classID+"-y-label").text("Average Messages Per "+this.indexName[this.index-1]);var e=this.x,i=(this.y,this.height),n=L.jvg().curve(L.qpX).x((function(t){return e(a(t[0]))})).y((function(t){return i}));this.lineObjects=[];for(var l=0;l<this.classNames.length;l++)this.lineObjects.push(this.svg.selectAll("."+this.classNames[l]).data([this.plotData[l][this.index]],(function(t){return a(t[0])})));for(var r=0;r<this.lineObjects.length;r++)this.lineObjects[r].join("path").attr("class",this.classNames[r]).merge(this.lineObjects[r]).attr("d",(function(t){return n(t)})).style("fill","none").style("stroke",this.colors[r]).style("stroke-width","2");this.updateCurve()},updateCurve:function(){for(var t=this,s=0,a=0;a<=this.data.names.length;a++)s=this.calculateMaxY(this.plotData[a][this.index])>s?this.calculateMaxY(this.plotData[a][this.index]):s;var e=this.parseTime;2==this.index?e=L.Z1g("%Y-%m"):1==this.index?e=L.Z1g("%Y-%m-%d"):3==this.index&&(e=L.Z1g("%Y")),2==this.index?(this.starteDate=this.plotData[2][2][0][0].substring(0,7),this.endDate=this.plotData[2][2][this.plotData[2][2].length-1][0].substring(0,7)):1==this.index?(this.starteDate=this.plotData[2][1][0][0].substring(0,10),this.endDate=this.plotData[2][1][this.plotData[2][1].length-1][0].substring(0,10)):3==this.index&&(this.starteDate=this.plotData[2][3][0][0].substring(0,4),this.endDate=this.plotData[2][3][this.plotData[2][3].length-1][0].substring(0,4)),this.x.domain([e(this.starteDate),e(this.endDate)]),this.svg.selectAll("#"+this.classID+"-x-axis").transition().duration(1e3).call(this.xAxis),this.y.domain([0,s]).nice(),this.svg.select("#"+this.classID+"-y-axis").transition().duration(1e3).call(this.yAxis),this.svg.select("#"+this.classID+"-y-label").transition().duration(1e3).text("Average Messages Per Day");var i=this.x,n=this.y,l=L.jvg().curve(L.qpX).x((function(t){return i(e(t[0]))})).y((function(t){return n(t[1])}));this.lineObjects=[];for(var r=0;r<this.classNames.length;r++)this.lineObjects.push(this.svg.selectAll("."+this.classNames[r]).data([this.plotData[r][this.index]],(function(t){return e(t[0])})));for(var h=this.classNames,o=function(s){t.lineObjects[s].join("path").attr("class",t.classNames[s]).merge(t.lineObjects[s]).transition().duration(1e3).attrTween("d",(function(t){var a=L.Ys("."+h[s]).attr("d"),e=l(t);return(0,F.sk)(a,e)})).style("fill","none").style("stroke",t.colors[s]).style("stroke-width","2")},c=0;c<this.lineObjects.length;c++)o(c)},calculateMaxY:function(t){for(var s=0,a=0;a<t.length;a++)t[a][1]>s&&(s=t[a][1]);if(s<3)s=3;else if(s<5)s=5;else if(s<10)s=10;else if(s<100){var e=s%10;s=s-e+10}else if(s<500){var i=s%100;s=s-i+100}else if(s<1e3){var n=s%200;s=s-n+200}else if(s<1e4){var l=s%500;s=s-l+500}return s},focusMouseOver:function(){},focusMouseMove:function(){},focusMouseOut:function(){}}},dt=ct,ut=(0,D.Z)(dt,rt,ht,!1,null,null,null),gt=ut.exports,pt=function(){var t=this,s=t.$createElement;t._self._c;return t._m(0)},mt=[function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{attrs:{id:"plot-outside"}},[a("div",{attrs:{id:"plot-inside"}})])}],Dt={name:"Plot-1",components:{},props:{data:Object},data:function(){return{plotData:[[[1,1],[2,2],[3,3],[4,4],[5,5],[6,6]],[[1,6],[2,5],[3,4],[4,3],[5,2],[6,1]]],margin:{top:20,right:30,bottom:30,left:50},width:776,height:350,x:{},y:{},xAxis:{},yAxis:{},focus:{},svg:{}}},mounted:function(){this.createPlot()},watch:{data:function(){},globalWidth:function(){}},methods:{createPlot:function(){L.Ys("#plot-inside-svg").remove();var t=L.Ys("#plot-inside").append("svg").attr("id","plot-inside-svg").attr("width",this.width+this.margin.left+this.margin.right).attr("height",this.height+this.margin.top+this.margin.bottom).append("g").attr("transform","translate(".concat(this.margin.left,",").concat(this.margin.top,")")),s=L.Xf().range([0,this.width]),a=L.LLu().scale(s);t.append("g").attr("transform","translate(0, ".concat(this.height,")")).attr("id","plot-inside-x-axis");var e=L.BYU().range([this.height,0]),i=L.y4O().scale(e);t.append("g").attr("id","plot-inside-y-axis"),t.append("text").attr("id","plot-inside-y-label").attr("text-anchor","end").attr("y","-35px").attr("transform","rotate(-90)").text("average messages per TEST1"),this.x=s,this.y=e,this.xAxis=a,this.yAxis=i,this.svg=t,this.focus=focus},createClassArrays:function(){this.classNames=[],this.classNamesDot=[];for(var t=0;t<=this.data.names.length;t++){var s=(t+1).toString();this.classNames.push("line-"+s),this.classNamesDot.push(".line"+s)}}}},ft=Dt,vt=(0,D.Z)(ft,pt,mt,!1,null,null,null),xt=vt.exports,bt=function(){var t=this,s=t.$createElement;t._self._c;return t._m(0)},yt=[function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"test-plot"},[a("div",{attrs:{id:"my_dataviz"}})])}];e["default"].use(d.Z);var wt={components:{},name:"D3BarPlot",props:{},data:function(){return{dataObj:[{Country:"United States",Value:"12394"},{Country:"Germany",Value:"6452"},{Country:"Poland",Value:"6468"}]}},mounted:function(){this.init()},watch:{},methods:{init:function(){var t={top:50,right:50,bottom:90,left:50},s=460-t.left-t.right,a=450-t.top-t.bottom,e=L.Ys("#my_dataviz").append("svg").attr("width",s+t.left+t.right).attr("height",a+t.top+t.bottom).append("g").attr("transform","translate(".concat(t.left,",").concat(t.top,")")),i=L.tiA().range([0,s]).domain(this.dataObj.map((function(t){return t.Country}))).padding(.2);e.append("g").attr("transform","translate(0,".concat(a,")")).call(L.LLu(i)).selectAll("text").attr("transform","translate(-10,0)rotate(-45)").style("text-anchor","end").style("color","black");var n=L.BYU().domain([0,14e3]).range([a,0]),l=L.y4O().scale(n).ticks(7,",.0f");e.append("g").call(l).selectAll("text").attr("transform","translate(-10,0)rotate(-45)").style("text-anchor","end").style("color","black").style("font-size","10px"),e.selectAll("mybar").data(this.dataObj).join("rect").attr("x",(function(t){return i(t.Country)})).attr("width",i.bandwidth()).attr("fill","black").attr("height",(function(t){return a-n(0)})).attr("y",(function(t){return n(0)})),e.selectAll("rect").transition().duration(800).attr("y",(function(t){return n(t.Value)})).attr("height",(function(t){return a-n(t.Value)})).delay((function(t,s){return console.log(s),100*s}))}}},Ot=wt,Mt=(0,D.Z)(Ot,bt,yt,!1,null,"fea20d6a",null),Nt=(Mt.exports,function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",[a("div",{staticClass:"title"},[t._v(" Number Of Messages er "+t._s(this.indexName[this.index-1])+" ")]),a("div",{staticClass:"svg-container",attrs:{id:"container"}})])}),Ct=[],Pt={name:"D3LineChartv3Resize",components:{},props:{data:Object},data:function(){return{plotData:[],starteDate:"",endDate:"",index:3,parseTime:L.Z1g("%Y-%m-%d"),allCurveObjects:[],curve:{},svg:{},xScale:{},yScale:{},x:{},y:{},xAxis:{},yAxis:{},focus:{},margin:{top:50,right:50,bottom:50,left:50},width:960,height:270,indexName:["Day","Month","Year"],classNames:["line1","line2","line3"],classNamesDot:[".line1",".line2",".line3"],lineObjects:[],colors:["red","green","blue"]}},mounted:function(){this.prepareData2()},watch:{data:function(){this.prepareData2()}},methods:{changeIndex2:function(t){this.index=t,this.updateCurve()},prepareData2:function(){if(this.data.allMessages.length){this.plotData=[];var t=L.Z1g("%Y-%m-%d");2==this.index?this.parseTime=L.Z1g("%Y-%m"):1==this.index?this.parseTime=L.Z1g("%Y-%m-%d"):3==this.index&&(this.parseTime=L.Z1g("%Y"));for(var s=0;s<this.data.names.length;s++)this.plotData.push([[],[],[],[],[]]);this.plotData.push([[],[],[],[],[]]);for(var a=0;a<this.data.allMessages.length;a++){var e=this.data.allMessages[a].name,i=this.data.names.indexOf(e);this.plotData[i][0].push([this.data.allMessages[a].date]),this.plotData[this.data.names.length][0].push([this.data.allMessages[a].date])}for(var n=0;n<this.plotData.length;n++){for(var l=[],r="",h=0;h<this.plotData[n][0].length;h++)if(this.plotData[n][0][h][0]!=r)r=this.plotData[n][0][h][0],l.push([r,1]);else{r=this.plotData[n][0][h][0];var o=l[l.length-1][1];l[l.length-1]=[r,o+1]}this.plotData[n][0]=l}for(var c=0;c<this.plotData.length;c++){for(var d=this.plotData[c][0][0][0],u=this.plotData[c][0][this.plotData[c][0].length-1][0],g=[],p=0;p<this.plotData[c][0].length;p++)g.push(this.plotData[c][0][p][0]);for(var m=new Date(t(d));m<=new Date(t(u));m.setDate(m.getDate()+1)){var D=new Date(m).toISOString().split("T")[0];if(g.includes(D)){var f=g.indexOf(D);this.plotData[c][1].push([this.plotData[c][0][f][0],this.plotData[c][0][f][1]])}else this.plotData[c][1].push([D,0])}}for(var v=0;v<this.plotData.length;v++){for(var x=this.plotData[v][0][0][0],b=this.plotData[v][0][this.plotData[v][0].length-1][0],y=[],w=[],O=[],M=new Date(t(x));M<=new Date(t(b));M.setDate(M.getDate()+1)){var N=new Date(M).toISOString().substring(0,7);y.includes(N)||(y.push(N),this.plotData[v][2].push([N,0]),w.push(N),O.push(0));var C=w.indexOf(N);O[C]++}for(var P=0;P<this.plotData[v][0].length;P+=1){var k=this.plotData[v][0][P][0].substring(0,7),A=this.plotData[v][0][P][1],S=y.indexOf(k);this.plotData[v][2][S][1]=this.plotData[v][2][S][1]+A}for(var I=0;I<this.plotData[v][2].length;I+=1){var Y=this.plotData[v][2][I][0],T=this.plotData[v][2][I][1],_=w.indexOf(Y),j=O[_];0!=T&&(this.plotData[v][2][I][1]=T/j)}}console.log(this.plotData);for(var Z=0;Z<this.plotData.length;Z++){for(var W=this.plotData[Z][0][0][0],E=this.plotData[Z][0][this.plotData[Z][0].length-1][0],z=[],R=[],q=[],B=new Date(t(W));B<=new Date(t(E));B.setDate(B.getDate()+1)){var $=new Date(B).toISOString().substring(0,4);z.includes($)||(z.push($),this.plotData[Z][3].push([$,0]),R.push($),q.push(0));var X=R.indexOf($);q[X]++}for(var H=0;H<this.plotData[Z][0].length;H+=1){var U=this.plotData[Z][0][H][0].substring(0,4),G=this.plotData[Z][0][H][1],V=z.indexOf(U);this.plotData[Z][3][V][1]=this.plotData[Z][3][V][1]+G}for(var F=0;F<this.plotData[Z][3].length;F+=1){var J=this.plotData[Z][3][F][0],K=this.plotData[Z][3][F][1],Q=R.indexOf(J),tt=q[Q];0!=K&&(this.plotData[Z][3][F][1]=K/tt)}}for(var st=0;st<this.plotData.length;st++)for(var at=0;at<this.plotData[st][3].length;at++)this.plotData[st][4].push([this.plotData[st][3][at][0],this.plotData[st][3][at][1]*(2.5*Math.random()+.5)]);this.createPlot()}},createPlot:function(){2==this.index?(this.starteDate=this.plotData[2][2][0][0].substring(0,7),this.endDate=this.plotData[2][2][this.plotData[2][2].length-1][0].substring(0,7)):1==this.index?(this.starteDate=this.plotData[2][1][0][0].substring(0,10),this.endDate=this.plotData[2][1][this.plotData[2][1].length-1][0].substring(0,10)):3==this.index&&(this.starteDate=this.plotData[2][3][0][0].substring(0,4),this.endDate=this.plotData[2][3][this.plotData[2][3].length-1][0].substring(0,4)),L.Ys("svg").remove();var t=L.Ys("#container").append("svg").attr("viewBox","0 0 1000 1000").attr("preserveAspectRatio","none").append("g").attr("transform","translate(".concat(this.margin.left,",").concat(-this.margin.top,")")),s=L.Xf().range([0,this.width]),a=L.LLu().scale(s);t.append("g").attr("transform","translate(0, ".concat(this.height,")")).attr("class","myXaxis");var e=L.BYU().range([this.height,0]),i=L.y4O().scale(e);t.append("g").attr("class","myYaxis"),t.append("text").attr("class","y-label").attr("text-anchor","end").attr("y","-35px").attr("font-size","2rem").attr("transform","rotate(-90)").text("average messages per "+this.indexName[this.index-1]);t.append("rect").attr("fill","none").attr("pointer-events","all").attr("class","zoom").attr("width",this.width).attr("height",this.height).on("mouseover",this.focusMouseOver()).on("mousemove",this.focusMouseMove()).on("mouseout",this.focusMouseOut());this.x=s,this.y=e,this.xAxis=a,this.yAxis=i,this.svg=t,this.focus=focus,this.setInitalLine()},setInitalLine:function(){var t=this.calculateMaxY(this.plotData[2][this.index]),s=this.parseTime;2==this.index?s=L.Z1g("%Y-%m"):1==this.index?s=L.Z1g("%Y-%m-%d"):3==this.index&&(s=L.Z1g("%Y")),2==this.index?(this.starteDate=this.plotData[2][2][0][0].substring(0,7),this.endDate=this.plotData[2][2][this.plotData[2][2].length-1][0].substring(0,7)):1==this.index?(this.starteDate=this.plotData[2][1][0][0].substring(0,10),this.endDate=this.plotData[2][1][this.plotData[2][1].length-1][0].substring(0,10)):3==this.index&&(this.starteDate=this.plotData[2][3][0][0].substring(0,4),this.endDate=this.plotData[2][3][this.plotData[2][3].length-1][0].substring(0,4)),this.x.domain([s(this.starteDate),s(this.endDate)]),this.svg.selectAll(".myXaxis").call(this.xAxis),this.y.domain([0,t]).nice(),this.svg.selectAll(".myYaxis").call(this.yAxis),this.svg.select(".y-label").text("Average Messages Per "+this.indexName[this.index-1]);var a=this.x,e=(this.y,this.height),i=L.jvg().curve(L.qpX).x((function(t){return a(s(t[0]))})).y((function(t){return e}));this.lineObjects=[];for(var n=0;n<this.classNames.length;n++)this.lineObjects.push(this.svg.selectAll("."+this.classNames[n]).data([this.plotData[n][this.index]],(function(t){return s(t[0])})));for(var l=0;l<this.lineObjects.length;l++)this.lineObjects[l].join("path").attr("class",this.classNames[l]).merge(this.lineObjects[l]).attr("d",(function(t){return i(t)})).style("fill","none").style("stroke",this.colors[l]).style("stroke-width","3");this.updateCurve()},updateCurve:function(){var t=this,s=this.calculateMaxY(this.plotData[2][this.index]),a=this.parseTime;2==this.index?a=L.Z1g("%Y-%m"):1==this.index?a=L.Z1g("%Y-%m-%d"):3==this.index&&(a=L.Z1g("%Y")),2==this.index?(this.starteDate=this.plotData[2][2][0][0].substring(0,7),this.endDate=this.plotData[2][2][this.plotData[2][2].length-1][0].substring(0,7)):1==this.index?(this.starteDate=this.plotData[2][1][0][0].substring(0,10),this.endDate=this.plotData[2][1][this.plotData[2][1].length-1][0].substring(0,10)):3==this.index&&(this.starteDate=this.plotData[2][3][0][0].substring(0,4),this.endDate=this.plotData[2][3][this.plotData[2][3].length-1][0].substring(0,4)),this.x.domain([a(this.starteDate),a(this.endDate)]),this.svg.selectAll(".myXaxis").transition().duration(1e3).call(this.xAxis),this.y.domain([0,s]).nice(),this.svg.selectAll(".myYaxis").transition().duration(1e3).call(this.yAxis),this.svg.select(".y-label").transition().duration(1e3).text("Average Messages Per Day");var e=this.x,i=this.y,n=L.jvg().curve(L.qpX).x((function(t){return e(a(t[0]))})).y((function(t){return i(t[1])}));this.lineObjects=[];for(var l=0;l<this.classNames.length;l++)this.lineObjects.push(this.svg.selectAll("."+this.classNames[l]).data([this.plotData[l][this.index]],(function(t){return a(t[0])})));for(var r=this.classNames,h=function(s){t.lineObjects[s].join("path").attr("class",t.classNames[s]).merge(t.lineObjects[s]).transition().duration(1e3).attrTween("d",(function(t){var a=L.Ys("."+r[s]).attr("d"),e=n(t);return(0,F.sk)(a,e)})).style("fill","none").style("stroke",t.colors[s]).style("stroke-width","3")},o=0;o<this.lineObjects.length;o++)h(o)},calculateMaxY:function(t){for(var s=0,a=0;a<t.length;a++)t[a][1]>s&&(s=t[a][1]);if(s<10)s=10;else if(s<100){var e=s%10;s=s-e+10}else if(s<500){var i=s%100;s=s-i+100}else if(s<1e3){var n=s%200;s=s-n+200}else if(s<1e4){var l=s%500;s=s-l+500}return s},focusMouseOver:function(){console.log("DRIN")},focusMouseMove:function(){console.log("BEWEGUNG!")},focusMouseOut:function(){console.log("DRAUSSEN")}}},kt=Pt,At=(0,D.Z)(kt,Nt,Ct,!1,null,null,null),St=At.exports,It=function(){var t=this,s=t.$createElement;t._self._c;return t._m(0)},Yt=[function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"test"},[a("p",{staticStyle:{height:"80px",color:"black"}},[t._v("Guten Tag! Wie gehts?!?!")]),a("div",{staticClass:"content"})])}],Tt={name:"TestVue",props:{},data:function(){return{}},mounted:function(){}},_t=Tt,jt=(0,D.Z)(_t,It,Yt,!1,null,null,null),Zt=jt.exports,Wt={name:"App",data:function(){return{d3Data:{0:100,1:200,2:167,3:776},data:[],width:100,height:100,showReselectNames:!1,allChats:{names:[],allMessages:[],messagesPerPersoan:[],totalConfig:{firstMessage:"",totalMessages:0,messagesPerTime:{}},configPerPersoan:[]},allNames:[],config:{firstMsg:"",totalMsg:0,names:[]},allWidths:[0,0,0,0,0,0,0],allWidths2:{plot1:0,plot2:0,plot3:0,plot4:0,plot5:0,plot6:0,plot7:0},testProp:1,widthPlot1:0,showSelectedNames:!1,selectedNames:[]}},components:{Plot1:tt,Plot2:lt,Plot6:gt,TestPlot:xt,D3LineChartv3Resize:St,TestVue:Zt},mounted:function(){window.addEventListener("resize",this.myEventHandler)},methods:{myEventHandler:function(){this.testProp++;var t=document.querySelector("#grid-plot-1").clientWidth,s=document.querySelector("#grid-plot-2").clientWidth,a=document.querySelector("#grid-plot-3").clientWidth,e=document.querySelector("#grid-plot-4").clientWidth,i=document.querySelector("#grid-plot-5").clientWidth,n=document.querySelector("#grid-plot-6").clientWidth,l=document.querySelector("#grid-plot-7").clientWidth;this.allWidths[0]=t,this.allWidths[1]=s,this.allWidths[2]=a,this.allWidths[3]=e,this.allWidths[4]=i,this.allWidths[5]=n,this.allWidths[6]=l,this.allWidths2.plot1=t,this.allWidths2.plot2=s,this.allWidths2.plot3=a,this.allWidths2.plot4=e,this.allWidths2.plot5=i,this.allWidths2.plot6=n,this.allWidths2.plot7=l,this.widthPlot1=t},showfile:function(){var t=(0,r.Z)(regeneratorRuntime.mark((function t(){var s,a,e,i,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return s=document.getElementById("input").files[0],t.next=3,s.text();case 3:a=t.sent,e=/\[\d\d\.\d\d\.\d\d,\s[0-9]{2}:[0-9]{2}:[0-9]{2}(\.[0-9]{1,3})?\]/g,i=a.match(e),n=a.split(/\[\d\d.\d\d.\d\d, \d\d:\d\d:\d\d\]/),n.shift(),this.data=[],this.allNames=[],this.allChats={names:[],allMessages:[],messagesPerPersoan:[],totalConfig:{firstMessage:"",totalMessages:0,messagesPerTime:{}},configPerPersoan:[]},this.convertData(i,n);case 12:case"end":return t.stop()}}),t,this)})));function s(){return t.apply(this,arguments)}return s}(),creatAllNamesArray:function(){this.showSelectedNames=!0,this.selectedNames=[];for(var t=0;t<this.allChats.names.length;t++)this.selectedNames.push({name:this.allChats.names[t],active:!0,numberOfMessages:this.allChats.configPerPersoan[t].totalMessages});console.log(this.allChats)},convertData:function(t,s){for(var a=0;a<t.length;a++)if(s[a].includes(":")&&!s[a].includes("Ende-zu-Ende-verschlsselt")&&!s[a].includes("Deine Sicherheitsnummer fr alle Teilnehmer")){var e=s[a].split(": "),i=(0,l.Z)(e),n=i[0],r=i.slice(1);r=r.join(": ").replace(/(\r\n|\n|\r)/gm," ").replace(/\s{2,}/g," ").trim(),n=n.trim();var h=r.length,o=t[a].slice(1,9);o="20"+o.substring(6,8)+"-"+o.substring(3,5)+"-"+o.substring(0,2);var c=t[a].slice(11,19),d=this.toTimestamp(o.substring(0,4),o.substring(5,7),o.substring(8,10),c.substring(0,2),c.substring(3,5),c.substring(6,8));this.allNames.includes(n)||(this.allNames.push(n),this.config.names.push({totalMsg:0})),this.allChats.names.includes(n)||(this.allChats.names.push(n),this.allChats.configPerPersoan.push({totalMessages:0,firstMessage:"",messagesPerTime:{}}),this.allChats.messagesPerPersoan.push([]));var u=new Date(o.substring(0,4)+"-"+o.substring(5,7)+"-"+o.substring(8,10)).getDay();this.allChats.allMessages.push({date:o,day:o.substring(8,10),month:o.substring(5,7),year:o.substring(0,4),msg:r,weekday:u,name:n,time:c,length:h,timestamp:d,dateAndTime:t[a].substring(1,19)}),this.allChats.messagesPerPersoan[this.allNames.indexOf(n)].push({date:o,day:o.substring(8,10),month:o.substring(5,7),year:o.substring(0,4),msg:r,name:n,time:c,length:h,timestamp:d,dateAndTime:t[a].substring(1,19)}),this.data.push({date:o,msg:r,name:n,time:c,length:h,timestamp:d}),this.config.totalMsg++,this.allChats.totalConfig.totalMessages++,0==a&&(this.config.firstMsg=o,this.allChats.totalConfig.firstMessage=o),this.config.names[this.allNames.indexOf(n)].totalMsg++,this.allChats.configPerPersoan[this.allNames.indexOf(n)].totalMessages++,""==this.allChats.configPerPersoan[this.allNames.indexOf(n)].firstMessage&&(this.allChats.configPerPersoan[this.allNames.indexOf(n)].firstMessage=o)}this.creatAllNamesArray(),this.calculateMsgPerTime()},calculateMsgPerTime:function(){this.allChats.totalConfig.messagesPerTime={x:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],y:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]};for(var t=0;t<this.allNames.length;t++)this.allChats.configPerPersoan[t].messagesPerTime={x:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],y:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]};for(var s=0;s<this.allChats.allMessages.length;s++){var a=parseInt(this.allChats.allMessages[s].time.substring(0,2)),e=this.allNames.indexOf(this.allChats.allMessages[s].name);this.allChats.totalConfig.messagesPerTime.y[a]++,this.allChats.configPerPersoan[e].messagesPerTime.y[a]++}},toTimestamp:function(t,s,a,e,i,n){var l=new Date(Date.UTC(t,s-1,a,e,i,n));return l.getTime()/1e3},onResize:function(t){var s=t.width,a=t.height;console.log(s,a),console.log("Moin")},selectAllNames:function(){this.selectedNames.forEach((function(t){t.active=!0}))},unselectAllNames:function(){this.selectedNames.forEach((function(t){t.active=!1}))},unselectUnsavedContacts:function(){var t=/\d/;this.selectedNames.forEach((function(s){s.active=!t.test(s.name)}))},selectTopTen:function(){if(!(this.selectedNames.length<10)){this.unselectAllNames();for(var t=0,s=-1,a=0;a<10;a++)this.selectedNames.forEach((function(a,e){!a.active&&a.numberOfMessages>t&&(s=e,t=a.numberOfMessages)})),this.selectedNames[s].active=!0,t=0,s=-1}},finishSelectNames:function(){this.showSelectedNames=!1,console.log(this.selectedNames)},selectName:function(t){this.selectedNames[t].active=!this.selectedNames[t].active}}},Et=Wt,Lt=(0,D.Z)(Et,i,n,!1,null,null,null),zt=Lt.exports,Rt=a(7841),qt=(a(44),a(9417),a(5225)),Bt=a(6480);e["default"].use(Rt.ZPm),e["default"].use(Bt),e["default"].component("v-icon",qt.Z),e["default"].config.productionTip=!1,new e["default"]({render:function(t){return t(zt)}}).$mount("#app")}},s={};function a(e){var i=s[e];if(void 0!==i)return i.exports;var n=s[e]={id:e,loaded:!1,exports:{}};return t[e].call(n.exports,n,n.exports,a),n.loaded=!0,n.exports}a.m=t,function(){var t=[];a.O=function(s,e,i,n){if(!e){var l=1/0;for(c=0;c<t.length;c++){e=t[c][0],i=t[c][1],n=t[c][2];for(var r=!0,h=0;h<e.length;h++)(!1&n||l>=n)&&Object.keys(a.O).every((function(t){return a.O[t](e[h])}))?e.splice(h--,1):(r=!1,n<l&&(l=n));if(r){t.splice(c--,1);var o=i();void 0!==o&&(s=o)}}return s}n=n||0;for(var c=t.length;c>0&&t[c-1][2]>n;c--)t[c]=t[c-1];t[c]=[e,i,n]}}(),function(){a.n=function(t){var s=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(s,{a:s}),s}}(),function(){a.d=function(t,s){for(var e in s)a.o(s,e)&&!a.o(t,e)&&Object.defineProperty(t,e,{enumerable:!0,get:s[e]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){a.o=function(t,s){return Object.prototype.hasOwnProperty.call(t,s)}}(),function(){a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){a.nmd=function(t){return t.paths=[],t.children||(t.children=[]),t}}(),function(){var t={143:0};a.O.j=function(s){return 0===t[s]};var s=function(s,e){var i,n,l=e[0],r=e[1],h=e[2],o=0;if(l.some((function(s){return 0!==t[s]}))){for(i in r)a.o(r,i)&&(a.m[i]=r[i]);if(h)var c=h(a)}for(s&&s(e);o<l.length;o++)n=l[o],a.o(t,n)&&t[n]&&t[n][0](),t[n]=0;return a.O(c)},e=self["webpackChunkchat_analyzer"]=self["webpackChunkchat_analyzer"]||[];e.forEach(s.bind(null,0)),e.push=s.bind(null,e.push.bind(e))}();var e=a.O(void 0,[998],(function(){return a(8298)}));e=a.O(e)})();
//# sourceMappingURL=app-legacy.e4901161.js.map